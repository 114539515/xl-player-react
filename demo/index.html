<!DOCTYPE html>
<html lang="zh_cn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link rel="stylesheet" href="../dist/LMPlayer.css" />
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
      }
    </style>
    <script src="./react.development.js"></script>
    <script src="./react-dom.development.js"></script>
    <script src="./prop-types.min.js"></script>
    <script src="./babel-browser.js"></script>
    <script src="./flv.min.js"></script>
    <script src="./hls.min.js"></script>
    <script src="../dist/LMPlayer.js"></script>
    <style>
      #root,
      #root2 {
        width: 800px;
        height: 460px;
      }
    </style>
  </head>

  <body>
    <!-- <div id="root"></div> -->
    <div id="root2"></div>
    <img src="" alt="" />
    <script type="text/babel">
      flvjs.LoggingControl.enableVerbose = false;
      flvjs.LoggingControl.enableDebug = false;
      flvjs.LoggingControl.enableWarn = false;
      class Text extends React.Component {
        render() {
          return <h1>Hello, world!</h1>;
        }
      }
      // var historyList = {
      //   beginDate: "2019-04-17 14:40:12",
      //   duration: 173318,
      //   fragments: [
      //     { "begin": 0, "end": 95,file:"http://36.33.32.174:5460/v2/540803087/live.m3u8?client_token=540803087_0_1556082745_38ac5e23b32c7a2f398735c38416bc07" },
      //     { "begin": 95, "end": 105969 },
      //     { "begin": 105969, "end": 107388, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555589181_1555590600.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 107388, "end": 161429 ,},
      //     { "begin": 161429, "end": 161583, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555644641_1555644795.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 161583, "end": 161680 },
      //     { "begin": 161680, "end": 161780, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555644892_1555644992.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 161780, "end": 167422,file:`./video.mp4?${Math.random()}` },
      //     { "begin": 167422, "end": 167442, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555650634_1555650654.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 167442, "end": 167530 },
      //     { "begin": 167530, "end": 167544, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555650742_1555650756.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 167544, "end": 167606 ,file:"http://192.168.100.93:8088/records/m3u8_info2/1555650818_1555650823.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 167606, "end": 167611, "file": "http://192.168.100.93:8088/records/m3u8_info2/1555650818_1555650823.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1" },
      //     { "begin": 167611, "end": 173318 ,file :"http://192.168.100.93:8088/records/m3u8_info2/1555650818_1555650823.m3u8?access_token=753383300_3356491776_1587525476_65e02da72e82aadce9383d2297fc487b&head=1"}
      //   ]
      // }
      var historyList = {
        beginDate: "2019-04-17 14:40:12",
        duration: 604,
        fragments: [
          {
            begin: 0,
            end: 60,
            file: `http://36.33.32.174:5460/v2/540803088/live.m3u8?client_token=540803088_0_1556148365_94b5195088cd1880f4d7f7757dc5e979`
          },
          // { "begin": 0, "end": 60,file:`./video.mp4?${Math.random()}` },
          { begin: 60, end: 120 },
          { begin: 120, end: 180, file: `./video.mp4?${Math.random()}` },
          { begin: 180, end: 240 },
          { begin: 240, end: 300, file: `./video.mp4?${Math.random()}` },
          { begin: 300, end: 360 },
          { begin: 360, end: 420, file: `./video.mp4?${Math.random()}` },
          { begin: 420, end: 480 },
          { begin: 480, end: 604, file: `./video.flv?${Math.random()}` }
        ]
      };
      // ReactDOM.render(<LMPlayer.HistoryPlayer historyList={historyList} isLive={false} autoPlay={true} poster="./poster.png" onInitPlayer={(player) => {console.log(player)}} />, document.getElementById("root"));
      ReactDOM.render(
        <LMPlayer
          actions={{
            snapshot: url => {
              document.querySelector("img").src = url;
            }
          }}
          file={`http://36.33.32.174:5460/v2/540803305/live.flv?client_token=540803305_0_1556494875_4bf26ead6f3274f15cf2e0db04f00b1f`}
          isLive={true}
          autoPlay={true}
          poster="./poster.png"
          onInitPlayer={player => {
            console.log(player);
          }}
        />,
        document.getElementById("root2")
      );
    </script>
  </body>
</html>
