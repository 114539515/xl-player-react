{"version":3,"sources":["webpack://LMPlayer/webpack/bootstrap","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://LMPlayer/./src/api.js","webpack://LMPlayer/./src/context.js","webpack://LMPlayer/./src/contraller_bar/bar.js","webpack://LMPlayer/./src/contraller_bar/index.js","webpack://LMPlayer/./src/contraller_bar/left_bar.js","webpack://LMPlayer/./src/contraller_bar/right_bar.js","webpack://LMPlayer/./src/createPlayer.js","webpack://LMPlayer/./src/event/contrallerEvent.js","webpack://LMPlayer/./src/event/dragEvent.js","webpack://LMPlayer/./src/event/errorEvent.js","webpack://LMPlayer/./src/event/eventName.js","webpack://LMPlayer/./src/event/index.js","webpack://LMPlayer/./src/history/index.js","webpack://LMPlayer/./src/history/play_end.js","webpack://LMPlayer/./src/history/time_line_history.js","webpack://LMPlayer/./src/iconfont.js","webpack://LMPlayer/./src/index.js","webpack://LMPlayer/./src/live_heart.js","webpack://LMPlayer/./src/message.js","webpack://LMPlayer/./src/player.js","webpack://LMPlayer/./src/slider.js","webpack://LMPlayer/./src/style/bar.less","webpack://LMPlayer/./src/style/iconfont.less","webpack://LMPlayer/./src/style/index.less","webpack://LMPlayer/./src/style/message.less","webpack://LMPlayer/./src/style/slider.less","webpack://LMPlayer/./src/style/time-line.less","webpack://LMPlayer/./src/time_line.js","webpack://LMPlayer/./src/util.js","webpack://LMPlayer/external {\"commonjs\":\"flv.lm.js\",\"commonjs2\":\"flv.lm.js\",\"amd\":\"flv.lm.js\",\"root\":\"flvjs\"}","webpack://LMPlayer/external {\"commonjs\":\"hls.js\",\"commonjs2\":\"hls.js\",\"amd\":\"hls.js\",\"root\":\"Hls\"}","webpack://LMPlayer/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://LMPlayer/external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}"],"names":["_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_objectWithoutProperties","source","excluded","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","call","_objectWithoutPropertiesLoose","sourceKeys","keys","_possibleConstructorReturn","_typeof","assertThisInitialized","_setPrototypeOf","p","_typeof2","obj","Symbol","iterator","Api","video","playContainer","event","flv","hls","player","scale","position","isFullscreen","fullscreen","exitFullscreen","paused","play","pause","removeAttribute","unload","destroy","seconds","noEmit","buffered","getBufferedTime","load","currentTime","emit","EventName","SEEK","RELOAD","getCurrentTime","seekTo","stopLoad","loadSource","url","fraction","volume","muted","requestPictureInPicture","document","pictureInPictureElement","exitPictureInPicture","rate","playbackRate","duration","seekable","Infinity","end","start","getDuration","second","time","canvas","createElement","ctx","getContext","width","videoWidth","height","videoHeight","drawImage","setTimeout","remove","toDataURL","num","isRest","style","transition","__setTransform","TRANSFORM","isAnimate","transform","bind","reload","setVolume","mute","unmute","setPlaybackRate","getSecondsLoaded","fastForward","backWind","snapshot","requestFullScreen","cancelFullScreen","__player","videoContext","React","createContext","Provider","Consumer","videoDec","Component","ComponentWithVideoDec","forwardRef","context","ref","Bar","visibel","className","children","ContrallerBar","hideContraller","setState","hideBar","showContraller","state","on","HIDE_CONTRALLER","SHOW_CONTRALLER","off","LeftBar","seek","historyEnd","historyPlayEnd","updateRender","mounted","forceUpdate","changePlayStatus","api","reloadHistory","mutedChange","volumechange","openSliderVolume","closeSliderVolume","onChangeVolume","parseFloat","toFixed","isHistory","CLEAR_ERROR_TIMER","addEventListener","HISTORY_PLAY_END","removeEventListener","playerProps","volumeType","isLive","precent","Math","round","RightBar","update","setScale","dragDom","querySelector","computedBound","getPosition","getScale","setPosition","fullScreenListener","isScale","isfull","createPlayer","container","onInitPlayer","ReactDOM","render","unmountComponentAtNode","createHistoryPlayer","ContrallerEvent","clearTimeout","timer","DragEvent","openDrag","e","pageX","pageY","moveChange","stopDrag","currentPosition","x","y","transformChange","isDraggable","ErrorEvent","clearErrorTimer","errorTimer","clearError","console","warn","RELOAD_SUCCESS","errorHandle","changePlayIndex","playIndex","args","ERROR","errorReloadTimer","RELOAD_FAIL","ERROR_RELOAD","error","reconnectTimer","flvPlayer","hlsPlayer","flvjs","Events","Hls","CHANGE_PLAY_INDEX","nextProps","VideoEvent","events","playerEvents","eventName","handle","listener","push","type","index","findIndex","v","splice","data","forEach","fn","HistoryPlayer","initPlayer","historyList","fragments","file","getVideoType","createFlvPlayer","updateChunk","createHlsPlayer","src","getPlayerApiContext","getApi","historyApi","assign","computedIndexFormTime","fragment","seekTime","begin","getProvider","renderVideoTools","playContainerRef","createRef","willReCreatePlayer","findDOMNode","current","defaultTime","autoPlay","autoplay","poster","preload","loop","playsinline","providerValue","defaultProps","playsInline","PlayEnd","endedHandle","TineLine","isEnd","getBuffered","changePlayTime","percent","seekendPlay","renderTimeLineTips","date","dateFormat","Date","beginDate","getTime","computedLineList","map","disabled","size","lineList","currentLine","filter","currentIndexTime","reduce","c","playPercent","bufferedPercent","currentSizeLine","i2","currentIndexSize","left","IconFont","LiveHeart","canplay","isCanPlay","isPlayError","clearHandle","updateProgress","progressTime","now","focusSeekAction","heartAction","setInterval","timeNow","clearInterval","VideoMessage","clearReloadMessage","message","status","errorReload","loading","reloadFail","reloadSuccess","openLoading","closeLoading","LMPlayer","getPlayUrl","Slider","renderSliderTips","renderTips","layoutDom","getBoundingClientRect","top","tipsX","tipsY","showTips","tempValue","hideSliderTips","cancelPropagation","stopPropagation","startDrag","dragFlag","body","computedPositionForEvent","onChange","changeCurrentValue","sliderDomRef","lineDom","currentPercent","dx","availablePercent","Tips","ele","appendChild","removeChild","createPortal","timeStamp","liveDurationInfinity","levelLoadingTimeOut","fragLoadingTimeOut","enableWorker","attachMedia","MEDIA_ATTACHED","MANIFEST_PARSED","options","flvOptions","flvConfig","isSupported","enableStashBuffer","stashInitialSize","attachMediaElement","reg","resultArr","exec","replace","second_time","ceil","min","floor","hour","timetemp","YYYY","getFullYear","DD","getDate","MM","getMonth","hh","getHours","mm","getMinutes","ss","getSeconds","element","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","fullscreenEnabled","mozFullScreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","isAdd","fullscreenchange","funcName","fullScreenEvents","eleRect","w","h","lx","ly"],"mappings":"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","file":"player.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import { fullscreen, isFullscreen, exitFullscreen } from \"./util\";\r\nimport EventName from \"./event/eventName\";\r\nexport default class Api {\r\n  constructor(video, playContainer, event, flv, hls) {\r\n    this.player = video;\r\n    this.playContainer = playContainer;\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n    this.event = event;\r\n    this.scale = 1;\r\n    this.position = [0, 0];\r\n  }\r\n  /**\r\n   * 播放器销毁后 动态跟新api下的flv，hls对象\r\n   * @param {*} param0\r\n   */\r\n  updateChunk({ flv, hls }) {\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n  }\r\n  /**\r\n   * 全屏\r\n   */\r\n  requestFullScreen() {\r\n    if (!isFullscreen(this.playContainer)) {\r\n      fullscreen(this.playContainer);\r\n    }\r\n  }\r\n  /**\r\n   * 退出全屏\r\n   */\r\n  cancelFullScreen() {\r\n    if (isFullscreen(this.playContainer)) {\r\n      exitFullscreen();\r\n    }\r\n  }\r\n  play() {\r\n    if (this.player.paused) {\r\n      this.player.play();\r\n    }\r\n  }\r\n  pause() {\r\n    if (!this.player.paused) {\r\n      this.player.pause();\r\n    }\r\n  }\r\n  destroy() {\r\n    this.player.removeAttribute(\"src\");\r\n    this.unload();\r\n    if (this.flv) {\r\n      this.flv.destroy();\r\n    }\r\n    if (this.hls) {\r\n      this.hls.destroy();\r\n    }\r\n    this.scale = null;\r\n    this.position = null;\r\n  }\r\n\r\n  /**\r\n   * 设置currentTime实现seek\r\n   * @param {*} seconds\r\n   * @param {*} noEmit\r\n   */\r\n  seekTo(seconds, noEmit) {\r\n    const buffered = this.getBufferedTime();\r\n    if (this.flv && buffered[0] > seconds) {\r\n      this.flv.unload();\r\n      this.flv.load();\r\n    }\r\n    this.player.currentTime = seconds;\r\n    if (!noEmit) {\r\n      this.event.emit(EventName.SEEK, seconds);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 视频重载\r\n   */\r\n  reload() {\r\n    this.unload();\r\n    this.load();\r\n    this.play();\r\n    this.event.emit(EventName.RELOAD);\r\n    if (this.getCurrentTime !== 0) {\r\n      this.seekTo(0);\r\n    }\r\n  }\r\n  unload() {\r\n    this.flv && this.flv.unload();\r\n    this.hls && this.hls.stopLoad();\r\n  }\r\n  load() {\r\n    this.flv && this.flv.load();\r\n    this.hls && this.hls.loadSource(this.hls.url);\r\n  }\r\n  setVolume(fraction) {\r\n    this.player.volume = fraction;\r\n  }\r\n  mute() {\r\n    this.player.muted = true;\r\n  }\r\n  unmute() {\r\n    this.player.muted = false;\r\n  }\r\n\r\n  /**\r\n   * 开启画中画功能\r\n   */\r\n  requestPictureInPicture() {\r\n    if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\r\n      this.player.requestPictureInPicture();\r\n    }\r\n  }\r\n  /**\r\n   * 关闭画中画功能\r\n   */\r\n  exitPictureInPicture() {\r\n    if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\r\n      document.exitPictureInPicture();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置播放速率\r\n   * @param {*} rate\r\n   */\r\n  setPlaybackRate(rate) {\r\n    this.player.playbackRate = rate;\r\n  }\r\n  /**\r\n   * 获取视频总时长\r\n   */\r\n  getDuration() {\r\n    if (!this.player) return null;\r\n    const { duration, seekable } = this.player;\r\n    if (duration === Infinity && seekable.length > 0) {\r\n      return seekable.end(seekable.length - 1);\r\n    }\r\n    return duration;\r\n  }\r\n  /**\r\n   * 获取当前播放时间\r\n   */\r\n  getCurrentTime() {\r\n    if (!this.player) return null;\r\n    return this.player.currentTime;\r\n  }\r\n\r\n  /**\r\n   * 获取缓存时间\r\n   */\r\n  getSecondsLoaded() {\r\n    return this.getBufferedTime()[1];\r\n  }\r\n\r\n  /**\r\n   * 获取当前视频缓存的起止时间\r\n   */\r\n  getBufferedTime() {\r\n    if (!this.player) return null;\r\n    const { buffered } = this.player;\r\n    if (buffered.length === 0) {\r\n      return [0, 0];\r\n    }\r\n    const end = buffered.end(buffered.length - 1);\r\n    const start = buffered.start(buffered.length - 1);\r\n    const duration = this.getDuration();\r\n    if (end > duration) {\r\n      return duration;\r\n    }\r\n    return [start, end];\r\n  }\r\n  /**\r\n   * 快进通过seekTo方法实现\r\n   * @param {*} second\r\n   */\r\n  fastForward(second = 5) {\r\n    const duration = this.getDuration();\r\n    const currentTime = this.getCurrentTime();\r\n    const time = currentTime + second;\r\n    this.seekTo(time > duration - 1 ? duration - 1 : time);\r\n  }\r\n\r\n  /**\r\n   * 快退通过seekTo方法实现\r\n   * @param {*} second\r\n   */\r\n  backWind(second = 5) {\r\n    const currentTime = this.getCurrentTime();\r\n    const time = currentTime - second;\r\n    this.seekTo(time < 1 ? 1 : time);\r\n  }\r\n\r\n  /**\r\n   * 视频截屏方法\r\n   */\r\n  snapshot() {\r\n    let canvas = document.createElement(\"canvas\");\r\n    let ctx = canvas.getContext(\"2d\");\r\n    canvas.width = this.player.videoWidth;\r\n    canvas.height = this.player.videoHeight;\r\n    ctx.drawImage(this.player, 0, 0, canvas.width, canvas.height);\r\n    setTimeout(() => {\r\n      canvas.remove();\r\n      canvas = null;\r\n      ctx = null;\r\n    }, 200);\r\n    return canvas.toDataURL();\r\n  }\r\n  setScale(num, isRest = false) {\r\n    let scale = this.scale + num;\r\n    if (isRest) {\r\n      scale = num;\r\n    } else {\r\n      if (scale < 1) {\r\n        scale = 1;\r\n      }\r\n      if (scale > 3) {\r\n        scale = 3;\r\n      }\r\n    }\r\n    this.scale = scale;\r\n    this.player.style.transition = \"transform 0.3s\";\r\n    this.__setTransform();\r\n    this.event.emit(EventName.TRANSFORM);\r\n    setTimeout(() => {\r\n      this.player.style.transition = \"unset\";\r\n    }, 500);\r\n  }\r\n  getScale() {\r\n    return this.scale;\r\n  }\r\n  setPosition(position, isAnimate) {\r\n    this.position = position;\r\n    this.player.style.transition = isAnimate ? \"transform 0.3s\" : \"unset\";\r\n    this.__setTransform();\r\n  }\r\n  getPosition() {\r\n    return this.position;\r\n  }\r\n  __setTransform() {\r\n    this.player.style.transform = `scale(${this.scale}) translate(${this.position[0]}px,${this.position[1]}px)`;\r\n  }\r\n  getApi() {\r\n    return {\r\n      play: this.play.bind(this),\r\n      reload: this.reload.bind(this),\r\n      pause: this.pause.bind(this),\r\n      seekTo: this.seekTo.bind(this),\r\n      setVolume: this.setVolume.bind(this),\r\n      mute: this.mute.bind(this),\r\n      unmute: this.unmute.bind(this),\r\n      requestPictureInPicture: this.requestPictureInPicture.bind(this),\r\n      exitPictureInPicture: this.exitPictureInPicture.bind(this),\r\n      setPlaybackRate: this.setPlaybackRate.bind(this),\r\n      destroy: this.destroy.bind(this),\r\n      getDuration: this.getDuration.bind(this),\r\n      getCurrentTime: this.getCurrentTime.bind(this),\r\n      getSecondsLoaded: this.getSecondsLoaded.bind(this),\r\n      getBufferedTime: this.getBufferedTime.bind(this),\r\n      fastForward: this.fastForward.bind(this),\r\n      backWind: this.backWind.bind(this),\r\n      snapshot: this.snapshot.bind(this),\r\n      requestFullScreen: this.requestFullScreen.bind(this),\r\n      cancelFullScreen: this.cancelFullScreen.bind(this),\r\n      __player: this.player\r\n    };\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst videoContext = React.createContext(null);\r\n\r\nexport const Provider = videoContext.Provider;\r\nexport const Consumer = videoContext.Consumer;\r\n\r\nexport function videoDec(Component) {\r\n  class ComponentWithVideoDec extends React.Component {\r\n    render() {\r\n      const { forwardRef, ...props } = this.props;\r\n      return <Consumer>{context => <Component {...props} {...context} ref={forwardRef} />}</Consumer>;\r\n    }\r\n  }\r\n  return React.forwardRef((props, ref) => <ComponentWithVideoDec {...props} forwardRef={ref} />);\r\n}\r\n","import React from \"react\";\r\nexport default function Bar({ visibel = true, className, children, ...props }) {\r\n  if (visibel === false) {\r\n    return null;\r\n  }\r\n  return (\r\n    <span className={`contraller-bar-item ${className}`} {...props}>\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport LeftBar from \"./left_bar\";\r\nimport RightBar from \"./right_bar\";\r\nimport EventName from \"../event/eventName\";\r\nimport {videoDec} from '../context'\r\nimport \"../style/bar.less\";\r\n\r\n@videoDec\r\nclass ContrallerBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hideBar: false\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.on(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.on(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.off(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.off(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n  hideContraller = () => {\r\n    this.setState({ hideBar: true });\r\n  };\r\n  showContraller = () => {\r\n    this.setState({ hideBar: false });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={`contraller-bar-layout ${this.state.hideBar ? \"hide-contraller-bar\" : \"\"}`}>\r\n        <LeftBar />\r\n        <RightBar />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContrallerBar;\r\n","import React from \"react\";\r\nimport IconFont from \"../iconfont\";\r\nimport { videoDec } from \"../context\";\r\nimport Slider from \"../slider\";\r\nimport Bar from \"./bar\";\r\nimport EventName from \"../event/eventName\";\r\n\r\n@videoDec\r\nclass LeftBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openSliderVolume: false\r\n    };\r\n    this.historyEnd = false;\r\n    this.mounted = false;\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    this.mounted = true;\r\n    event.addEventListener(\"play\", this.updateRender);\r\n    event.addEventListener(\"pause\", this.updateRender);\r\n    event.addEventListener(\"volumechange\", this.volumechange);\r\n    event.on(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.on(EventName.SEEK, this.seek);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    this.mounted = false;\r\n    event.removeEventListener(\"play\", this.updateRender);\r\n    event.removeEventListener(\"pause\", this.updateRender);\r\n    event.removeEventListener(\"volumechange\", this.volumechange);\r\n    event.off(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.off(EventName.SEEK, this.seek);\r\n  }\r\n  seek = () => {\r\n    this.historyEnd = false;\r\n  };\r\n  historyPlayEnd = () => {\r\n    this.historyEnd = true;\r\n  };\r\n  updateRender = () => {\r\n    this.mounted && this.forceUpdate();\r\n  };\r\n  changePlayStatus = () => {\r\n    const { api, video } = this.props;\r\n    if (this.historyEnd) {\r\n      this.props.reloadHistory();\r\n    } else {\r\n      video.paused ? api.play() : api.pause();\r\n    }\r\n  };\r\n  mutedChange = () => {\r\n    const { api, video } = this.props;\r\n    video.muted ? api.unmute() : api.mute();\r\n  };\r\n  volumechange = () => {\r\n    this.forceUpdate();\r\n  };\r\n  openSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: true\r\n    });\r\n  };\r\n  closeSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: false\r\n    });\r\n  };\r\n  onChangeVolume = volume => {\r\n    const { api, video } = this.props;\r\n    api.setVolume(parseFloat(volume.toFixed(1)));\r\n    if (volume > 0 && video.muted) {\r\n      api.unmute();\r\n    }\r\n  };\r\n  reload = () => {\r\n    if (this.props.isHistory) {\r\n      this.props.reloadHistory();\r\n    } else {\r\n      this.props.api.reload();\r\n    }\r\n    this.props.event.emit(EventName.CLEAR_ERROR_TIMER);\r\n  };\r\n  render() {\r\n    const { openSliderVolume } = this.state;\r\n    const { video, playerProps } = this.props;\r\n    const volumeType = video.volume === 1 ? \"lm-player-volume-max\" : \"lm-player-volume-normal-fuben\";\r\n    return (\r\n      <div className=\"contraller-left-bar\">\r\n        <Bar visibel={!playerProps.isLive}>\r\n          <IconFont\r\n            onClick={this.changePlayStatus}\r\n            type={video.paused ? \"lm-player-Play_Main\" : \"lm-player-Pause_Main\"}\r\n            title={video.paused ? \"播放\" : \"暂停\"}\r\n          />\r\n        </Bar>\r\n        <Bar\r\n          className={`contraller-bar-volume ${openSliderVolume ? \"contraller-bar-hover-volume\" : \"\"}`}\r\n          onMouseOver={this.openSliderVolume}\r\n          onMouseOut={this.closeSliderVolume}\r\n        >\r\n          <IconFont onClick={this.mutedChange} type={video.muted ? \"lm-player-volume-close\" : volumeType} title=\"音量\" />\r\n          <div className=\"volume-slider-layout\">\r\n            <Slider\r\n              className=\"volume-slider\"\r\n              currentPercent={video.muted ? 0 : video.volume * 100}\r\n              onChange={this.onChangeVolume}\r\n              renderTips={precent => <span>{Math.round(precent * 100)}%</span>}\r\n            />\r\n          </div>\r\n        </Bar>\r\n        <Bar>\r\n          <IconFont onClick={this.reload} type=\"lm-player-Refresh_Main\" title=\"重载\" />\r\n        </Bar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeftBar;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from \"../iconfont\";\r\nimport { isFullscreen, fullScreenListener, computedBound } from \"../util\";\r\n\r\n@videoDec\r\nclass RightBar extends React.Component {\r\n  componentDidMount() {\r\n    fullScreenListener(true, this.update);\r\n  }\r\n  componentWillUnmount() {\r\n    fullScreenListener(false, this.update);\r\n  }\r\n  update = () => {\r\n    this.forceUpdate();\r\n  };\r\n  fullscreen = () => {\r\n    const { api, playContainer } = this.props;\r\n    if (!isFullscreen(playContainer)) {\r\n      api.requestFullScreen();\r\n    } else {\r\n      api.cancelFullScreen();\r\n    }\r\n    this.forceUpdate();\r\n  };\r\n  setScale = (...args) => {\r\n    const { api, playContainer } = this.props;\r\n    const dragDom = playContainer.querySelector(\".player-mask-layout\");\r\n    api.setScale(...args);\r\n    let position = computedBound(dragDom, api.getPosition(), api.getScale());\r\n    position && api.setPosition(position, true);\r\n  };\r\n  snapshot = () => {\r\n    const { api, playerProps } = this.props;\r\n    if (playerProps.snapshot) {\r\n      playerProps.snapshot(api.snapshot());\r\n    }\r\n  };\r\n  render() {\r\n    const { playContainer, playerProps } = this.props;\r\n    const { isScale, snapshot } = playerProps;\r\n    const isfull = isFullscreen(playContainer);\r\n    return (\r\n      <div className=\"contraller-right-bar\">\r\n        {isScale && (\r\n          <>\r\n            <span className=\"contraller-bar-item\">\r\n              <IconFont title=\"缩小\" onClick={() => this.setScale(-0.2)} type={\"lm-player-ZoomOut_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n              <IconFont title=\"复位\" onClick={() => this.setScale(1, true)} type={\"lm-player-ZoomDefault_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n              <IconFont title=\"放大\" onClick={() => this.setScale(0.2)} type={\"lm-player-ZoomIn_Main\"} />\r\n            </span>\r\n          </>\r\n        )}\r\n\r\n        {snapshot && (\r\n          <span className=\"contraller-bar-item\">\r\n            <IconFont title=\"截图\" onClick={this.snapshot} type=\"lm-player-SearchBox\" />\r\n          </span>\r\n        )}\r\n        <span className=\"contraller-bar-item\">\r\n          <IconFont title={isfull ? \"窗口\" : \"全屏\"} onClick={this.fullscreen} type={isfull ? \"lm-player-ExitFull_Main\" : \"lm-player-Full_Main\"} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default RightBar;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Player from \"./player\";\r\nimport HistoryPlayer from \"./history\";\r\n\r\nexport function createPlayer({ container, children, onInitPlayer, ...props }) {\r\n  ReactDOM.render(\r\n    <Player\r\n      {...props}\r\n      onInitPlayer={player => {\r\n        player.destroy = function() {\r\n          ReactDOM.unmountComponentAtNode(container);\r\n        };\r\n        onInitPlayer && onInitPlayer(player);\r\n      }}\r\n    >\r\n      {children}\r\n    </Player>,\r\n    container\r\n  );\r\n}\r\nexport function createHistoryPlayer({ container, children, onInitPlayer, ...props }) {\r\n  ReactDOM.render(\r\n    <HistoryPlayer\r\n      {...props}\r\n      onInitPlayer={player => {\r\n        player.destroy = function() {\r\n          ReactDOM.unmountComponentAtNode(container);\r\n        };\r\n        onInitPlayer && onInitPlayer(player);\r\n      }}\r\n    >\r\n      {children}\r\n    </HistoryPlayer>,\r\n    container\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport EventName from \"./eventName\";\r\n\r\n@videoDec\r\nclass ContrallerEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.timer = null;\r\n  }\r\n  componentDidMount() {\r\n    const { playContainer, event } = this.props;\r\n    playContainer.addEventListener(\"mousemove\", this.showContraller, false);\r\n    playContainer.addEventListener(\"mouseout\", this.hideContraller, false);\r\n    this.timer = setTimeout(() => {\r\n      event.emit(EventName.HIDE_CONTRALLER);\r\n    }, 5 * 1000);\r\n  }\r\n  componentWillUnmount() {\r\n    const { playContainer } = this.props;\r\n    playContainer.addEventListener(\"mousemove\", this.showContraller, false);\r\n    playContainer.addEventListener(\"mouseout\", this.hideContraller, false);\r\n    clearTimeout(this.timer);\r\n  }\r\n  showContraller = () => {\r\n    const { event } = this.props;\r\n    event.emit(EventName.SHOW_CONTRALLER);\r\n    this.hideContraller();\r\n  };\r\n  hideContraller = () => {\r\n    const { event } = this.props;\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      event.emit(EventName.HIDE_CONTRALLER);\r\n    }, 3 * 1000);\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default ContrallerEvent;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport { computedBound } from \"../util\";\r\n\r\n@videoDec\r\nclass DragEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { playContainer } = props;\r\n\r\n    this.dragDom = playContainer.querySelector(\".player-mask-layout\");\r\n    this.position = {\r\n      start: [0, 0],\r\n      end: [0, 0]\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { isDraggable } = this.props.playerProps;\r\n    if (isDraggable) {\r\n      this.dragDom.addEventListener(\"mousedown\", this.openDrag);\r\n      this.props.event.addEventListener(\"transform\", this.transformChange, true);\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this.dragDom.removeEventListener(\"mousedown\", this.openDrag);\r\n    this.props.event.removeEventListener(\"transform\", this.transformChange);\r\n  }\r\n  openDrag = e => {\r\n    this.position.start = [e.pageX, e.pageY];\r\n    this.dragDom.addEventListener(\"mousemove\", this.moveChange);\r\n    this.dragDom.addEventListener(\"mouseup\", this.stopDrag);\r\n  };\r\n  moveChange = e => {\r\n    const { api } = this.props;\r\n    const currentPosition = api.getPosition();\r\n    this.position.end = [e.pageX, e.pageY];\r\n    const x = currentPosition[0] + (this.position.end[0] - this.position.start[0]);\r\n    const y = currentPosition[1] + (this.position.end[1] - this.position.start[1]);\r\n    const position = [x, y];\r\n    api.setPosition(position);\r\n    this.position.start = [e.pageX, e.pageY];\r\n  };\r\n  stopDrag = () => {\r\n    this.dragDom.removeEventListener(\"mousemove\", this.moveChange);\r\n    this.dragDom.removeEventListener(\"mouseup\", this.stopDrag);\r\n    this.transformChange();\r\n  };\r\n  transformChange = () => {\r\n    const { api } = this.props;\r\n    let position = computedBound(this.dragDom, api.getPosition(), api.getScale());\r\n    position && api.setPosition(position, true);\r\n  };\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default DragEvent;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport EventName from \"./eventName\";\r\nimport flvjs from \"flv.lm.js\";\r\nimport * as Hls from \"hls.js\";\r\n\r\n@videoDec\r\nclass ErrorEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.errorTimer = 0;\r\n  }\r\n  componentDidMount() {\r\n    const { event, flvPlayer, hlsPlayer } = this.props;\r\n    if (flvPlayer) {\r\n      //捕获flv错误\r\n      flvPlayer.on(flvjs.Events.ERROR, this.errorHandle);\r\n    }\r\n    if (hlsPlayer) {\r\n      //捕获hls错误\r\n      hlsPlayer.on(Hls.Events.ERROR, this.errorHandle);\r\n    }\r\n    //捕获video错误\r\n    event.addEventListener(\"error\", this.errorHandle, false);\r\n\r\n    //获取video状态清除错误状态\r\n    event.addEventListener(\"canplay\", this.clearError, false);\r\n\r\n    //历史视频切换播放索引时清除错误次数\r\n    event.on(EventName.CHANGE_PLAY_INDEX, this.clearErrorTimer);\r\n\r\n    //历史视频主动清除错误次数\r\n    event.on(EventName.CLEAR_ERROR_TIMER, this.clearErrorTimer);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.flvPlayer && nextProps.flvPlayer !== this.props.flvPlayer) {\r\n      nextProps.flvPlayer.on(flvjs.Events.ERROR, this.errorHandle);\r\n    }\r\n    if (nextProps.hlsPlayer && nextProps.hlsPlayer !== this.props.hlsPlayer) {\r\n      nextProps.hlsPlayer.on(Hls.Events.ERROR, this.errorHandle);\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    const { event, flvPlayer, hlsPlayer } = this.props;\r\n    event.removeEventListener(\"error\", this.errorHandle, false);\r\n    flvPlayer && flvPlayer.off(flvjs.Events.ERROR, this.errorHandle);\r\n    hlsPlayer && hlsPlayer.off(Hls.Events.ERROR, this.errorHandle);\r\n    \r\n    event.off(EventName.CLEAR_ERROR_TIMER, this.clearErrorTimer);\r\n    event.off(EventName.CHANGE_PLAY_INDEX, this.clearErrorTimer);\r\n    clearTimeout(this.reconnectTimer);\r\n  }\r\n\r\n  clearErrorTimer = () => {\r\n    this.errorTimer = 0;\r\n  };\r\n  /**\r\n   * 清除播放错误状态\r\n   */\r\n  clearError = () => {\r\n    const { event } = this.props;\r\n    if (this.errorTimer > 0) {\r\n      console.warn(\"视频重连成功！\");\r\n      event.emit(EventName.RELOAD_SUCCESS);\r\n      this.clearErrorTimer();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 捕获错误\r\n   */\r\n  errorHandle = (...args) => {\r\n    const { event, api, isHistory, changePlayIndex, playIndex, playerProps } = this.props;\r\n    const timer = this.errorTimer + 1;\r\n    event.emit(EventName.ERROR, ...args);\r\n    if (timer > playerProps.errorReloadTimer) {\r\n      isHistory ? changePlayIndex(playIndex + 1) : event.emit(EventName.RELOAD_FAIL), api.unload();\r\n    } else {\r\n      event.emit(EventName.ERROR_RELOAD, timer, ...args);\r\n      console.error(`视频播放出错，正在进行重连${timer}`, ...args);\r\n      this.errorTimer = timer;\r\n      this.reconnectTimer = setTimeout(() => {\r\n        api.reload();\r\n      }, 1000 * 5);\r\n    }\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorEvent;\r\n","export default {\r\n  RELOAD: \"reload\", //手动视频重载\r\n  RELOAD_FAIL: \"reloadFail\", // 视频出错，重连失败\r\n  RELOAD_SUCCESS: \"reloadSuccess\", //视频出错，重连成功\r\n  ERROR: \"error\", //视频出错\r\n  ERROR_RELOAD: \"errorRload\", //视频出错，自动重连\r\n  HISTORY_PLAY_END: \"historyPlayEnd\", //历史视频列表播放结束\r\n  SEEK: \"seek\", //跳跃播放时间\r\n  TRANSFORM: \"transform\", //视频容器缩放\r\n  CHANGE_PLAY_INDEX: \"changePlayIndex\", //历史视频列表播放索引改变\r\n  HIDE_CONTRALLER:\"hideContraller\",\r\n  SHOW_CONTRALLER:\"showContraller\",\r\n  CLEAR_ERROR_TIMER:\"clearErrorTimer\"\r\n};\r\n","class VideoEvent {\r\n  constructor(video) {\r\n    this.video = video;\r\n    this.events = {};\r\n    this.playerEvents = {};\r\n  }\r\n  on(eventName, handle) {\r\n    this.events && this.events[eventName] ? this.events[eventName].listener.push(handle) : (this.events[eventName] = { type: eventName, listener: [handle] });\r\n  }\r\n  addEventListener(eventName, handle) {\r\n    if (this.video) {\r\n      this.playerEvents[eventName] ? this.playerEvents[eventName].push(handle) : (this.playerEvents[eventName] = [handle]);\r\n      this.video.addEventListener(eventName, handle, false);\r\n    }\r\n  }\r\n  removeEventListener(eventName, handle) {\r\n    if (this.video) {\r\n      if (!this.playerEvents || this.playerEvents[eventName]) {\r\n        return;\r\n      }\r\n      let index = this.playerEvents[eventName].findIndex(v => v === handle);\r\n      index > -1 && this.playerEvents[eventName].splice(index, 1);\r\n      this.video.removeEventListener(eventName, handle, false);\r\n    }\r\n  }\r\n  emit(eventName, ...data) {\r\n    if (!this.events || !this.events[eventName]) {\r\n      return;\r\n    }\r\n    this.events[eventName].listener.forEach(v => {\r\n      v(...data);\r\n    });\r\n  }\r\n  off(eventName, handle) {\r\n    if (!this.events || !this.events.eventName) {\r\n      return;\r\n    }\r\n    let index = this.events[eventName].listener.findIndex(v => v === handle);\r\n    index > -1 && this.events[eventName].listener.splice(index, 1);\r\n  }\r\n  destroy() {\r\n    Object.keys(this.playerEvents).forEach(key => {\r\n      this.playerEvents[key].forEach(fn => {\r\n        this.removeEventListener(key, fn);\r\n      });\r\n    });\r\n    this.playerEvents = null;\r\n    this.events = null;\r\n  }\r\n}\r\n\r\nexport default VideoEvent;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Provider } from \"../context\";\r\nimport ContrallerBar from \"../contraller_bar\";\r\nimport VideoMessage from \"../message\";\r\nimport HistoryTimeLine from \"./time_line_history\";\r\nimport ErrorEvent from \"../event/errorEvent\";\r\nimport DragEvent from \"../event/dragEvent\";\r\nimport Api from \"../api\";\r\nimport VideoEvent from \"../event\";\r\nimport PlayEnd from \"./play_end\";\r\nimport EventName from \"../event/eventName\";\r\nimport ContrallerEvent from \"../event/contrallerEvent\";\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"../util\";\r\n\r\nclass HistoryPlayer extends React.Component {\r\n  static propTypes = {\r\n    historyList: PropTypes.object.isRequired, //播放地址 必填\r\n    isLive: PropTypes.bool, //是否实时视频\r\n    errorReloadTimer: PropTypes.number, //视频错误重连次数\r\n    type: PropTypes.oneOf([\"flv\", \"hls\", \"native\"]), //强制视频流类型\r\n    onInitPlayer: PropTypes.func,\r\n    isDraggable: PropTypes.bool,\r\n    isScale: PropTypes.bool,\r\n    muted: PropTypes.string,\r\n    autoPlay: PropTypes.bool,\r\n    playsInline: PropTypes.bool,\r\n    preload: PropTypes.string,\r\n    poster: PropTypes.string,\r\n    loop: PropTypes.bool,\r\n    defaultTime: PropTypes.number\r\n  };\r\n  static defaultProps = {\r\n    isLive: true,\r\n    isDraggable: true,\r\n    isScale: true,\r\n    errorReloadTimer: 5,\r\n    muted: \"muted\",\r\n    autoPlay: true,\r\n    playsInline: false,\r\n    preload: \"auto\",\r\n    loop: false,\r\n    defaultTime: 0\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.playIndex = 0;\r\n    this.player = null;\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playContainerRef = React.createRef();\r\n    this.playContainer = null;\r\n    this.willReCreatePlayer = false;\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current);\r\n    this.player = this.playContainer.querySelector(\"video\");\r\n    if (this.props.defaultTime) {\r\n      this.seekTo(defaultTime);\r\n    } else {\r\n      this.initPlayer(this.playIndex);\r\n    }\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n    if (this.props.autoPlay) {\r\n      this.api.play();\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.historyList !== nextProps.historyList) {\r\n      this.willReCreatePlayer = true;\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.willReCreatePlayer) {\r\n      this.playIndex = 0;\r\n      this.initPlayer(this.playIndex);\r\n      this.willReCreatePlayer = false;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this.event.destroy();\r\n    this.player = null;\r\n    this.event = null;\r\n    setTimeout(() => {\r\n      this.api.destroy();\r\n\r\n      this.flv = null;\r\n      this.hls = null;\r\n    }, 200);\r\n    this.playContainerRef = null;\r\n    this.playContainer = null;\r\n    this.willReCreatePlayer = null;\r\n  }\r\n  initPlayer = index => {\r\n    const { historyList } = this.props;\r\n    if (!historyList || !historyList.fragments[index] || !historyList.fragments[index].file) {\r\n      return null;\r\n    }\r\n    if (this.flv) {\r\n      this.flv.unload();\r\n      this.flv.destroy();\r\n      this.flv = null;\r\n    }\r\n    if (this.hls) {\r\n      this.hls.stopLoad();\r\n      this.hls.destroy();\r\n      this.hls = null;\r\n    }\r\n    const type = getVideoType(historyList.fragments[index].file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, { file: historyList.fragments[index].file });\r\n      this.api && this.api.updateChunk({ flv: this.flv });\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, historyList.fragments[index].file);\r\n      this.api && this.api.updateChunk({ hls: this.hls });\r\n    } else {\r\n      this.player.src = historyList.fragments[index].file;\r\n    }\r\n    this.playIndex = index;\r\n    this.forceUpdate();\r\n  };\r\n  /**\r\n   * @历史视频\r\n   * @专用修改历史视频播放的索引\r\n   */\r\n  changePlayIndex = index => {\r\n    const { historyList } = this.props;\r\n    if (!historyList.fragments[index]) {\r\n      this.event.emit(EventName.HISTORY_PLAY_END);\r\n      return;\r\n    }\r\n    if (!historyList.fragments[index].file) {\r\n      this.changePlayIndex(index + 1);\r\n    } else {\r\n      this.initPlayer(index);\r\n    }\r\n    this.api.play();\r\n    this.event.emit(EventName.CHANGE_PLAY_INDEX, index);\r\n  };\r\n\r\n  /**\r\n   * 覆盖Player中暴漏的api，重写seek相关的方法\r\n   */\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event\r\n      ? {\r\n          on: this.event.on.bind(this.event),\r\n          off: this.event.off.bind(this.event),\r\n          emit: this.event.emit.bind(this.event)\r\n        }\r\n      : {};\r\n\r\n    const historyApi = {\r\n      seekTo: this.seekTo\r\n    };\r\n    return Object.assign({}, api, event, historyApi);\r\n  };\r\n\r\n  /**\r\n   * 根据时间计算当前对应的播放索引\r\n   */\r\n  computedIndexFormTime = time => {\r\n    const { historyList } = this.props;\r\n    return historyList.fragments.findIndex(v => v.end > time);\r\n  };\r\n\r\n  /**\r\n   * 重写api下的seekTo方法\r\n   */\r\n  seekTo = currentTime => {\r\n    const playIndex = this.computedIndexFormTime(currentTime);\r\n    const fragment = historyList.fragments[playIndex];\r\n    const seekTime = currentTime - fragment.begin - 1;\r\n    this.api.pause();\r\n    if (playIndex !== this.playIndex) {\r\n      this.changePlayIndex(playIndex);\r\n    }\r\n    this.api.seekTo(seekTime, true);\r\n    this.event.emit(EventName.SEEK, currentTime);\r\n  };\r\n\r\n  /**\r\n   * 重写reload方法\r\n   */\r\n  reloadHistory = () => {\r\n    this.changePlayIndex(0);\r\n    this.api.seekTo(0);\r\n    this.event.emit(EventName.RELOAD);\r\n    this.api.play();\r\n  };\r\n  /**\r\n   * 覆盖Player中的context的value，新增一些历史视频专用的方法\r\n   */\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer,\r\n      changePlayIndex: this.changePlayIndex,\r\n      playIndex: this.playIndex,\r\n      historyList: this.props.historyList,\r\n      seekTo: this.seekTo,\r\n      isHistory: true,\r\n      reloadHistory: this.reloadHistory\r\n    };\r\n  };\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <VideoMessage />\r\n        <HistoryTimeLine />\r\n        <ContrallerEvent />\r\n        <ErrorEvent flvPlayer={this.flv} hlsPlayer={this.hls} />\r\n        <DragEvent />\r\n        <PlayEnd />\r\n      </>\r\n    );\r\n  };\r\n  render() {\r\n    const { autoplay, poster, preload, muted = \"muted\", loop = false, playsinline = false } = this.props;\r\n    const providerValue = this.getProvider();\r\n    return (\r\n      <div className=\"lm-player-container\" ref={this.playContainerRef}>\r\n        <div className=\"player-mask-layout\">\r\n          <video\r\n            autoPlay={autoplay}\r\n            preload={preload}\r\n            muted={muted}\r\n            poster={poster}\r\n            controls={false}\r\n            playsInline={playsinline}\r\n            loop={loop}\r\n          />\r\n        </div>\r\n        <Provider value={providerValue}>{this.renderVideoTools()}</Provider>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HistoryPlayer;\r\n","/**\r\n * history下使用 用户切换下个播放地址\r\n */\r\n\r\nimport React from \"react\";\r\nimport { videoDec } from \"../context\";\r\n\r\n@videoDec\r\nclass PlayEnd extends React.Component {\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  endedHandle = () => {\r\n    let index = this.props.playIndex\r\n    this.props.changePlayIndex(index + 1)\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default PlayEnd;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from \"../iconfont\";\r\nimport Slider from \"../slider\";\r\nimport { dateFormat } from \"../util\";\r\nimport EventName from '../event/eventName'\r\nimport \"../style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 1,\r\n      currentTime: 0,\r\n      buffered: 0,\r\n      isEnd: false,\r\n      hideBar:false\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered);\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n    event.on(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.on(EventName.RELOAD, this.reload);\r\n    event.on(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.on(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered);\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n    event.off(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.off(EventName.RELOAD, this.reload);\r\n    event.off(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.off(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n\r\n  hideContraller = () => {\r\n    this.setState({ hideBar: true });\r\n  };\r\n  showContraller = () => {\r\n    this.setState({ hideBar: false });\r\n  };\r\n  /**\r\n   * reload事件触发时 清除结束状态\r\n   */\r\n  reload = () => {\r\n    const {api} = this.props\r\n    this.setState({\r\n      isEnd: false,\r\n      currentTime: api.getCurrentTime()\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 设置播放结束状态，用于修正current圆点位置\r\n   */\r\n  historyPlayEnd = () => {\r\n    this.setState({\r\n      isEnd: true\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 更新播放时长\r\n   */\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 获取播放时间\r\n   */\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    };\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered;\r\n    }\r\n    this.setState(state);\r\n  };\r\n\r\n  /**\r\n   * 获取缓存时间\r\n   */\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 切换播放进度\r\n   */\r\n  changePlayTime = percent => {\r\n    const { seekTo, historyList } = this.props;\r\n    const currentTime = percent * historyList.duration;\r\n    const playIndex = historyList.fragments.findIndex(v => v.end > currentTime);\r\n    const fragment = historyList.fragments[playIndex];\r\n    if (fragment.file) {\r\n      seekTo(currentTime);\r\n      this.setState({ currentTime, isEnd: false });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 切换完成自动播放\r\n   */\r\n  seekendPlay = () => {\r\n    const { api } = this.props;\r\n    api.play();\r\n  };\r\n\r\n  /**\r\n   * 时间轴提示\r\n   */\r\n  renderTimeLineTips = percent => {\r\n    const { historyList } = this.props;\r\n    const currentTime = percent * historyList.duration * 1000;\r\n    const date = dateFormat(new Date(historyList.beginDate).getTime() + currentTime);\r\n    return <span>{date}</span>;\r\n  };\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward();\r\n  };\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind();\r\n  };\r\n  computedLineList = historyList => {\r\n    const duration = historyList.duration;\r\n    return historyList.fragments.map(v => {\r\n      return {\r\n        disabled: !v.file,\r\n        size: ((v.end - v.begin) / duration) * 100\r\n      };\r\n    });\r\n  };\r\n  render() {\r\n    const { historyList, playIndex } = this.props;\r\n    const { currentTime, buffered, isEnd ,hideBar } = this.state;\r\n    const lineList = this.computedLineList(historyList);\r\n    const currentLine = lineList.filter((v, i) => i < playIndex).map(v => v.size);\r\n    const currentIndexTime = currentLine.length === 0 ? 0 : currentLine.length > 1 ? currentLine.reduce((p, c) => p + c) : currentLine[0];\r\n    const playPercent = Math.round((currentTime / historyList.duration) * 100 + currentIndexTime);\r\n    const bufferedPercent = Math.round((buffered / historyList.duration) * 100 + currentIndexTime);\r\n    return (\r\n      <div className={`video-time-line-layout ${hideBar ? \"hide-time-line\" : \"\"}`}>\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider\r\n          className=\"time-line-box\"\r\n          currentPercent={isEnd ? \"100\" : playPercent}\r\n          availablePercent={bufferedPercent}\r\n          onChange={this.changePlayTime}\r\n          renderTimeLineTips={this.renderTimeLineTips}\r\n        >\r\n          <>\r\n            {lineList.map((v, i) => {\r\n              const currentSizeLine = lineList.filter((v, i2) => i2 < i).map(v => v.size);\r\n              const currentIndexSize = currentSizeLine.length === 0 ? 0 : currentSizeLine.length > 1 ? currentSizeLine.reduce((p, c) => p + c) : currentSizeLine[0];\r\n              return (\r\n                <div className={`history-time-line-item ${v.disabled ? \"history-time-line-disabled\" : \"\"}`} key={i} style={{ width: `${v.size}%`, left: `${currentIndexSize}%` }} />\r\n              );\r\n            })}\r\n          </>\r\n        </Slider>\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import React from \"react\";\r\nimport \"./style/iconfont.less\";\r\nexport default function IconFont({ type, className = \"\", ...props }) {\r\n  return <i className={`lm-player-iconfont ${type} ${className}`} {...props} />;\r\n}\r\n","import Player from \"./player\";\r\nimport HistoryPlayer from \"./history\";\r\nimport { createHistoryPlayer, createPlayer } from \"./createPlayer\";\r\n\r\nexport { Player as default, HistoryPlayer, createHistoryPlayer, createPlayer };\r\n","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\nimport EventName from \"./event/eventName\";\r\n\r\n@videoDec\r\nclass LiveHeart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.progressTime = Date.now();\r\n    this.timer = null;\r\n    this.isPlayError = false;\r\n    this.errorTimer = 0;\r\n    this.isCanPlay = false\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"progress\", this.updateProgress);\r\n    event.addEventListener(\"canplay\", this.canplay);\r\n    event.on(EventName.ERROR, this.errorHandle);\r\n    event.on(EventName.RELOAD_SUCCESS, this.clearHandle);\r\n    this.heartAction();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const {event} = this.props\r\n    event.removeEventListener(\"progress\", this.updateProgress);\r\n    event.removeEventListener(\"canplay\", this.canplay);\r\n    event.off(EventName.ERROR, this.errorHandle);\r\n    event.off(EventName.RELOAD_SUCCESS, this.clearHandle);\r\n    clearInterval(this.timer);\r\n  }\r\n\r\n  canplay = () => {\r\n    const { api } = this.props;\r\n    this.isCanPlay = true\r\n    api.play()\r\n  }\r\n  errorHandle = () => {\r\n    this.isPlayError = true;\r\n  };\r\n  clearHandle = () => {\r\n    this.isPlayError = false;\r\n  };\r\n  /**\r\n   * 监听视频进度\r\n   */\r\n  updateProgress = () => {\r\n    this.progressTime = Date.now();\r\n    this.focusSeekAction();\r\n  };\r\n\r\n  /**\r\n   * 心跳监听是否视频断流了\r\n   */\r\n  heartAction = () => {\r\n    const { api, event } = this.props;\r\n    this.timer = setInterval(() => {\r\n      const timeNow = Date.now();\r\n      const currentTime = api.getCurrentTime();\r\n      if (this.isPlayError) {\r\n        return;\r\n      }\r\n      if (currentTime > 0) {\r\n        if (timeNow - this.progressTime > 10 * 1000) {\r\n          console.warn(\"当前实时视频缓存未更新，执行reload操作\");\r\n          api.reload();\r\n        } else {\r\n          this.errorTimer = 0;\r\n        }\r\n      } else {\r\n        if (this.errorTimer >= 5) {\r\n          event.emit(EventName.RELOAD_FAIL, this.errorTimer);\r\n          api.unload();\r\n        } else {\r\n          this.errorTimer++;\r\n          api.reload();\r\n          event.emit(EventName.ERROR_RELOAD, this.errorTimer);\r\n        }\r\n      }\r\n    }, 1000 * 5);\r\n  };\r\n  /**\r\n   * 更新currentTime\r\n   */\r\n  focusSeekAction = () => {\r\n    const { api } = this.props;\r\n    const current = api.getCurrentTime();\r\n    const buffered = api.getSecondsLoaded();\r\n    if (buffered - current > 5) {\r\n      console.warn(`当前延时过大current->${current} buffered->${buffered}, 基于视频当前缓存时间更新当前播放时间 updateTime -> ${buffered - 2}`);\r\n      api.seekTo(buffered - 2 > 0 ? buffered - 2 : 0);\r\n    }\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default LiveHeart;\r\n","import React from \"react\";\r\nimport IconFont from \"./iconfont\";\r\nimport { videoDec } from \"./context\";\r\nimport EventName from \"./event/eventName\";\r\n\r\nimport \"./style/message.less\";\r\n\r\n@videoDec\r\nclass VideoMessage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      status: null\r\n    };\r\n    this.message = null;\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadstart\", this.openLoading);\r\n    event.addEventListener(\"waiting\", this.openLoading);\r\n    event.addEventListener(\"seeking\", this.openLoading);\r\n    event.addEventListener(\"loadeddata\", this.closeLoading);\r\n    event.addEventListener(\"canplay\", this.closeLoading);\r\n    event.on(EventName.ERROR_RELOAD, this.errorReload);\r\n    event.on(EventName.RELOAD_FAIL, this.reloadFail);\r\n    event.on(EventName.RELOAD_SUCCESS, this.reloadSuccess);\r\n    event.on(EventName.RELOAD, this.reload);\r\n    event.on(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.on(EventName.CLEAR_ERROR_TIMER, this.clearReloadMessage);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadstart\", this.openLoading);\r\n    event.removeEventListener(\"waiting\", this.openLoading);\r\n    event.removeEventListener(\"seeking\", this.openLoading);\r\n    event.removeEventListener(\"loadeddata\", this.closeLoading);\r\n    event.removeEventListener(\"canplay\", this.closeLoading);\r\n    event.off(EventName.ERROR_RELOAD, this.errorReload);\r\n    event.off(EventName.RELOAD_FAIL, this.reloadFail);\r\n    event.off(EventName.RELOAD_SUCCESS, this.reloadSuccess);\r\n    event.off(EventName.RELOAD, this.reload);\r\n    event.off(EventName.HISTORY_PLAY_END, this.historyPlayEnd);\r\n    event.off(EventName.CLEAR_ERROR_TIMER, this.clearReloadMessage);\r\n  }\r\n  clearReloadMessage = () => {\r\n    this.message = null\r\n    this.forceUpdate()\r\n  }\r\n  reload = () => {\r\n    this.setState({ status: \"reload\" });\r\n  };\r\n  errorReload = timer => {\r\n    this.message = <div>视频加载错误，正在进行重连第{timer}重连</div>;\r\n    this.setState({ status: \"reload\", loading: true });\r\n  };\r\n  reloadFail = () => {\r\n    this.message = <div>视频错误</div>;\r\n    this.setState({ status: \"fail\" });\r\n  };\r\n  reloadSuccess = () => {\r\n    this.message = null;\r\n    this.setState({ status: null });\r\n  };\r\n  openLoading = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n  closeLoading = () => {\r\n    this.setState({ loading: false });\r\n  };\r\n  historyPlayEnd = () => {\r\n    this.message = null;\r\n    this.setState({ status: null, loading: false });\r\n    this.props.api.pause();\r\n  };\r\n  render() {\r\n    const { loading, status } = this.state;\r\n    return (\r\n      <div className={`lm-player-message-mask ${loading || status === \"fail\" ? \"lm-player-mask-loading-animation\" : \"\"}`}>\r\n        <IconFont\r\n          type={status === \"fail\" ? \"lm-player-YesorNo_No_Dark\" : \"lm-player-Loading\"}\r\n          className={`${loading && status !== \"fail\" ? \"lm-player-loading-animation\" : status === \"fail\" ? \"lm-player-loadfail\" : \"\"} lm-player-loading-icon`}\r\n        />\r\n        <span className=\"lm-player-message\">{this.message}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoMessage;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport VideoEvent from \"./event\";\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"./util\";\r\nimport { Provider } from \"./context\";\r\nimport ContrallerBar from \"./contraller_bar\";\r\nimport ContrallerEvent from \"./event/contrallerEvent\";\r\nimport VideoMessage from \"./message\";\r\nimport TimeLine from \"./time_line\";\r\nimport ErrorEvent from \"./event/errorEvent\";\r\nimport DragEvent from \"./event/dragEvent\";\r\nimport Api from \"./api\";\r\nimport LiveHeart from \"./live_heart\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style/index.less\";\r\n\r\nclass LMPlayer extends React.Component {\r\n  static propTypes = {\r\n    file: PropTypes.string.isRequired, //播放地址 必填\r\n    isLive: PropTypes.bool, //是否实时视频\r\n    errorReloadTimer: PropTypes.number, //视频错误重连次数\r\n    type: PropTypes.oneOf([\"flv\", \"hls\", \"native\"]), //强制视频流类型\r\n    onInitPlayer: PropTypes.func,\r\n    isDraggable: PropTypes.bool,\r\n    isScale: PropTypes.bool,\r\n    muted: PropTypes.string,\r\n    autoPlay: PropTypes.bool,\r\n    playsInline: PropTypes.bool,\r\n    preload: PropTypes.string,\r\n    poster: PropTypes.string,\r\n    loop: PropTypes.bool,\r\n    snapshot: PropTypes.func\r\n  };\r\n  static defaultProps = {\r\n    isLive: true,\r\n    isDraggable: true,\r\n    isScale: true,\r\n    errorReloadTimer: 5,\r\n    muted: \"muted\",\r\n    autoPlay: true,\r\n    playsInline: false,\r\n    preload: \"auto\",\r\n    loop: false\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.player = null;\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playContainerRef = React.createRef();\r\n    this.playContainer = null;\r\n    this.willReCreatePlayer = false;\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current);\r\n    this.player = this.playContainer.querySelector(\"video\");\r\n    this.initPlayer();\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    this.forceUpdate();\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n    if (this.props.autoPlay) {\r\n      this.api.play();\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.file !== nextProps.file) {\r\n      this.willReCreatePlayer = true;\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.willReCreatePlayer) {\r\n      this.initPlayer();\r\n      this.willReCreatePlayer = false;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this.event.destroy();\r\n    this.player = null;\r\n    this.event = null;\r\n    setTimeout(() => {\r\n      this.api.destroy();\r\n      this.flv = null;\r\n      this.hls = null;\r\n    }, 200);\r\n    this.playContainerRef = null;\r\n    this.playContainer = null;\r\n    this.willReCreatePlayer = null;\r\n  }\r\n\r\n  initPlayer = () => {\r\n    if (!this.props.file) {\r\n      return null;\r\n    }\r\n    const type = getVideoType(this.props.file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, this.props);\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, this.props.file);\r\n    } else {\r\n      this.player.src = this.props.file;\r\n    }\r\n  };\r\n\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <VideoMessage />\r\n        <DragEvent />\r\n        <ContrallerEvent />\r\n        <ErrorEvent flvPlayer={this.flv} hlsPlayer={this.hls} />\r\n        {this.props.isLive ? <LiveHeart key={this.props.file} /> : <TimeLine />}\r\n      </>\r\n    );\r\n  };\r\n  getPlayUrl = () => {\r\n    return this.props.file;\r\n  };\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event\r\n      ? {\r\n          on: this.event.on.bind(this.event),\r\n          off: this.event.off.bind(this.event),\r\n          emit: this.event.emit.bind(this.event)\r\n        }\r\n      : {};\r\n    return Object.assign({}, api, event, { getPlayUrl: this.getPlayUrl, playContainer: this.playContainer });\r\n  };\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer\r\n    };\r\n  };\r\n  render() {\r\n    const { autoplay, poster, preload = \"none\", muted = \"muted\", loop = false, playsinline = false } = this.props;\r\n    const providerValue = this.getProvider();\r\n    return (\r\n      <div className=\"lm-player-container\" ref={this.playContainerRef}>\r\n        <div className=\"player-mask-layout\">\r\n          <video\r\n            autoPlay={autoplay}\r\n            preload={preload}\r\n            muted={muted}\r\n            poster={poster}\r\n            controls={false}\r\n            playsInline={playsinline}\r\n            loop={loop}\r\n          />\r\n        </div>\r\n        <Provider value={providerValue}>{this.renderVideoTools()}</Provider>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LMPlayer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style/slider.less\";\r\n\r\nclass Slider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.sliderDomRef = React.createRef();\r\n    this.layoutDom = null;\r\n    this.lineDom = null;\r\n    this.dragDom = null;\r\n    this.dragFlag = false;\r\n    this.state = {\r\n      value: this.props.currentPercent || 0,\r\n      tempValue: 0,\r\n      showTips: false,\r\n      tipsX: 0,\r\n      tipsY: 0\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (!this.dragFlag) {\r\n      this.setState({ value: nextProps.currentPercent || 0 });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.layoutDom = ReactDOM.findDOMNode(this.sliderDomRef.current);\r\n    this.dragDom = this.layoutDom.querySelector(\".drag-change-icon\");\r\n    this.lineDom = this.layoutDom.querySelector(\".slider-content\");\r\n\r\n    this.layoutDom.addEventListener(\"mousemove\", this.renderSliderTips, false);\r\n    this.layoutDom.addEventListener(\"mouseout\", this.hideSliderTips, false);\r\n    this.lineDom.addEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.addEventListener(\"click\", this.cancelPropagation, false);\r\n    this.dragDom.addEventListener(\"mousedown\", this.startDrag, false);\r\n  }\r\n  componentWillUnmount() {\r\n    this.layoutDom.removeEventListener(\"mousemove\", this.renderSliderTips, false);\r\n    this.layoutDom.removeEventListener(\"mouseout\", this.hideSliderTips, false);\r\n    this.lineDom.removeEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.removeEventListener(\"click\", this.cancelPropagation, false);\r\n    this.dragDom.removeEventListener(\"mousedown\", this.startDrag, false);\r\n\r\n    document.body.removeEventListener(\"mousemove\", this.moveChange);\r\n    document.body.removeEventListener(\"mouseup\", this.stopDrag);\r\n\r\n    this.sliderDomRef = null;\r\n    this.layoutDom = null;\r\n    this.lineDom = null;\r\n    this.dragDom = null;\r\n    this.dragFlag = null;\r\n  }\r\n  renderSliderTips = e => {\r\n    const { renderTips } = this.props;\r\n    if (!renderTips) {\r\n      return;\r\n    }\r\n    const { x, width, top } = this.layoutDom.getBoundingClientRect();\r\n    const tipsX = e.pageX;\r\n    let percent = (e.pageX - x) / width;\r\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\r\n    this.setState({ tipsX, tipsY: top, showTips: true, tempValue: percent });\r\n  };\r\n  hideSliderTips = () => {\r\n    this.setState({ showTips: false });\r\n  };\r\n  cancelPropagation = e => {\r\n    e.stopPropagation();\r\n  };\r\n  startDrag = e => {\r\n    e.stopPropagation();\r\n    this.dragFlag = true;\r\n    document.body.addEventListener(\"mousemove\", this.moveChange);\r\n    document.body.addEventListener(\"mouseup\", this.stopDrag);\r\n  };\r\n  moveChange = e => {\r\n    e.stopPropagation();\r\n    const percent = this.computedPositionForEvent(e);\r\n    this.setState({ value: percent });\r\n  };\r\n  stopDrag = e => {\r\n    e.stopPropagation();\r\n    document.body.removeEventListener(\"mousemove\", this.moveChange);\r\n    document.body.removeEventListener(\"mouseup\", this.stopDrag);\r\n    this.dragFlag = false;\r\n    let percent = this.state.value / 100;\r\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\r\n    this.props.onChange && this.props.onChange(percent);\r\n  };\r\n  computedPositionForEvent(e) {\r\n    const { x, width } = this.layoutDom.getBoundingClientRect();\r\n    const { pageX } = e;\r\n    let dx = pageX - x;\r\n    if (dx > width) {\r\n      dx = width;\r\n    }\r\n    if (dx < 0) {\r\n      dx = 0;\r\n    }\r\n    return (dx / width) * 100;\r\n  }\r\n  changeCurrentValue = event => {\r\n    event.stopPropagation();\r\n    const { width, x } = this.layoutDom.getBoundingClientRect();\r\n    let percent = (event.pageX - x) / width;\r\n    this.props.onChange && this.props.onChange(percent);\r\n  };\r\n  render() {\r\n    const { value, showTips, tipsX, tipsY } = this.state;\r\n    const { availablePercent = 0, className = \"\" } = this.props;\r\n    return (\r\n      <div className={`slider-layout ${className}`} ref={this.sliderDomRef}>\r\n        <div className=\"slider-content\">\r\n          <div className=\"slider-max-line\" />\r\n          <div className=\"slider-visibel-line\" style={{ width: `${availablePercent}%` }} />\r\n          <div className=\"slider-current-line\" style={{ width: `${value}%` }} />\r\n          {this.props.children}\r\n        </div>\r\n        <div className=\"slider-other-content\">\r\n          <div className=\"drag-change-icon\" draggable={false} style={{ left: `${value}%` }} />\r\n        </div>\r\n        <Tips visibel={showTips} className=\"lm-player-slide-tips\" style={{ left: tipsX, top: tipsY }}>\r\n          {this.props.renderTips && this.props.renderTips(this.state.tempValue)}\r\n        </Tips>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Tips extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ele = document.createElement(\"div\");\r\n  }\r\n  componentDidMount() {\r\n    document.body.appendChild(this.ele);\r\n  }\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.ele);\r\n    this.ele = null;\r\n  }\r\n  render() {\r\n    const { visibel, children, style, className = \"\" } = this.props;\r\n    return ReactDOM.createPortal(\r\n      visibel ? (\r\n        <div className={className} style={style}>\r\n          {children}\r\n        </div>\r\n      ) : null,\r\n      this.ele\r\n    );\r\n  }\r\n}\r\n\r\nexport default Slider;\r\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\nimport IconFont from \"./iconfont\";\r\nimport Slider from \"./slider\";\r\nimport { timeStamp } from \"./util\";\r\nimport EventName from \"./event/eventName\";\r\nimport \"./style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 0,\r\n      currentTime: 0,\r\n      buffered: 0,\r\n      hideBar: false\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered);\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n    event.on(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.on(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered);\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n    event.off(EventName.HIDE_CONTRALLER, this.hideContraller);\r\n    event.off(EventName.SHOW_CONTRALLER, this.showContraller);\r\n  }\r\n  hideContraller = () => {\r\n    this.setState({ hideBar: true });\r\n  };\r\n  showContraller = () => {\r\n    this.setState({ hideBar: false });\r\n  };\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    };\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered;\r\n    }\r\n    this.setState(state);\r\n  };\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n  changePlayTime = percent => {\r\n    const { api } = this.props;\r\n    const currentTime = percent * this.state.duration;\r\n    api.pause();\r\n    this.setState({ currentTime });\r\n    api.seekTo(currentTime);\r\n  };\r\n  seekendPlay = () => {\r\n    const { video, api } = this.props;\r\n    api.play();\r\n  };\r\n  renderTimeLineTips = percent => {\r\n    const currentTime = percent * this.state.duration;\r\n    const time = timeStamp(currentTime);\r\n    return <span>{time}</span>;\r\n  };\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward();\r\n  };\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind();\r\n  };\r\n  render() {\r\n    const { duration, currentTime, buffered, hideBar } = this.state;\r\n    const playPercent = Math.round((currentTime / duration) * 100);\r\n    const bufferedPercent = Math.round((buffered / duration) * 100);\r\n    return (\r\n      <div className={`video-time-line-layout ${hideBar ? \"hide-time-line\" : \"\"}`}>\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider className=\"time-line-box\" currentPercent={playPercent} availablePercent={bufferedPercent} onChange={this.changePlayTime} renderTips={this.renderTimeLineTips} />\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import flvjs from \"flv.lm.js\";\r\nimport * as Hls from \"hls.js\";\r\n\r\n\r\n/**\r\n * 创建HLS对象\r\n * @param {*} video\r\n * @param {*} file\r\n */\r\nexport function createHlsPlayer(video, file) {\r\n  if (Hls.isSupported()) {\r\n    const player = new Hls({ liveDurationInfinity: true, levelLoadingTimeOut: 15000, fragLoadingTimeOut: 25000, enableWorker: true });\r\n    player.attachMedia(video);\r\n    player.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n      player.loadSource(file);\r\n      player.on(Hls.Events.MANIFEST_PARSED, () => {\r\n        // console.log(player);\r\n      });\r\n    });\r\n    return player;\r\n  }\r\n}\r\n\r\n/**\r\n * 创建FLV对象\r\n * @param {*} video\r\n * @param {*} options\r\n */\r\nexport function createFlvPlayer(video, options) {\r\n  const { flvOptions = {}, flvConfig = {} } = options;\r\n  if (flvjs.isSupported()) {\r\n    const player = flvjs.createPlayer(\r\n      Object.assign({}, flvOptions, {\r\n        type: \"flv\",\r\n        url: options.file\r\n      }),\r\n      Object.assign({}, flvConfig, {\r\n        enableWorker: true,\r\n        // lazyLoad: false,\r\n        //Indicates how many seconds of data to be kept for lazyLoad.\r\n        // lazyLoadMaxDuration: 0,\r\n        // autoCleanupMaxBackwardDuration: 3,\r\n        // autoCleanupMinBackwardDuration: 2,\r\n        // autoCleanupSourceBuffer: true,\r\n        enableStashBuffer: false,\r\n        stashInitialSize: 128,\r\n        isLive: options.isLive || true\r\n      })\r\n    );\r\n    player.attachMediaElement(video);\r\n    player.load();\r\n    return player;\r\n  }\r\n}\r\n\r\n/**\r\n * 获取播放文件类型\r\n * @param {*} url\r\n */\r\nexport function getVideoType(url) {\r\n  const reg = /([^\\.\\/\\\\]+)\\.(([a-z]|[0-9])+(\\?\\S+)?)$/i;\r\n  const resultArr = reg.exec(url);\r\n  if (resultArr) {\r\n    return resultArr[2].replace(resultArr[4], \"\");\r\n  }\r\n}\r\n\r\n/**\r\n * 播放时间转字符串\r\n * @param {*} second_time\r\n */\r\nexport function timeStamp(second_time) {\r\n  let time = Math.ceil(second_time);\r\n  if (time > 60) {\r\n    let second = Math.ceil(second_time % 60);\r\n    let min = Math.floor(second_time / 60);\r\n    time = `${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`;\r\n    if (min > 60) {\r\n      min = Math.ceil((second_time / 60) % 60);\r\n      let hour = Math.floor(second_time / 60 / 60);\r\n      time = `${hour < 10 ? `0${hour}` : hour}:${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`;\r\n    } else {\r\n      time = `00:${time}`;\r\n    }\r\n  } else {\r\n    time = `00:00:${time < 10 ? `0${time}` : time}`;\r\n  }\r\n\r\n  return time;\r\n}\r\n\r\n/**\r\n * 日期格式化\r\n * @param {*} timetemp\r\n */\r\nexport function dateFormat(timetemp) {\r\n  const date = new Date(timetemp);\r\n  let YYYY = date.getFullYear();\r\n  let DD = date.getDate();\r\n  let MM = date.getMonth() + 1;\r\n  let hh = date.getHours();\r\n  let mm = date.getMinutes();\r\n  let ss = date.getSeconds();\r\n  return `${YYYY}.${MM > 10 ? MM : \"0\" + MM}.${DD > 10 ? DD : \"0\" + DD} ${hh > 10 ? hh : \"0\" + hh}.${mm > 10 ? mm : \"0\" + mm}.${ss > 10 ? ss : \"0\" + ss}`;\r\n}\r\n\r\n/**\r\n * 全屏\r\n * @param {*} element\r\n */\r\nexport function fullscreen(element) {\r\n  if (element.requestFullScreen) {\r\n    element.requestFullScreen();\r\n  } else if (element.webkitRequestFullScreen) {\r\n    element.webkitRequestFullScreen();\r\n  } else if (element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  } else if (element.msRequestFullscreen) {\r\n    element.msRequestFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * exitFullscreen 退出全屏\r\n * @param  {Objct} element 选择器\r\n */\r\nexport function exitFullscreen() {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) {\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) {\r\n    document.msExitFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * 判读是否支持全屏\r\n */\r\nexport function fullscreenEnabled() {\r\n  return document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled;\r\n}\r\n\r\n/**\r\n * [isFullscreen 判断浏览器是否全屏]\r\n * @return [全屏则返回当前调用全屏的元素,不全屏返回false]\r\n */\r\nexport function isFullscreen(ele) {\r\n  if (!ele) {\r\n    return false;\r\n  }\r\n  return document.fullscreenElement === ele || document.msFullscreenElement === ele || document.mozFullScreenElement === ele || document.webkitFullscreenElement === ele || false;\r\n}\r\n// 添加 / 移除 全屏事件监听\r\nexport function fullScreenListener(isAdd, fullscreenchange) {\r\n  const funcName = isAdd ? \"addEventListener\" : \"removeEventListener\";\r\n  const fullScreenEvents = [\"fullscreenchange\", \"mozfullscreenchange\", \"webkitfullscreenchange\", \"msfullscreenchange\"];\r\n  fullScreenEvents.map(v => document[funcName](v, fullscreenchange));\r\n}\r\n\r\n/**\r\n * 计算视频拖拽边界\r\n * @param {*} ele\r\n * @param {*} currentPosition\r\n * @param {*} scale\r\n */\r\nexport function computedBound(ele, currentPosition, scale) {\r\n  const data = currentPosition;\r\n  const eleRect = ele.getBoundingClientRect();\r\n  const w = eleRect.width;\r\n  const h = eleRect.height;\r\n  let lx = 0,\r\n    ly = 0;\r\n  if (scale === 1) {\r\n    return [0, 0];\r\n  }\r\n  lx = (w * (scale - 1)) / 2 / scale;\r\n  ly = (h * (scale - 1)) / 2 / scale;\r\n  let x = 0,\r\n    y = 0;\r\n  if (data[0] >= 0 && data[0] > lx) {\r\n    x = lx;\r\n  }\r\n  if (data[0] >= 0 && data[0] < lx) {\r\n    x = data[0];\r\n  }\r\n\r\n  if (data[0] < 0 && data[0] < -lx) {\r\n    x = -lx;\r\n  }\r\n  if (data[0] < 0 && data[0] > -lx) {\r\n    x = data[0];\r\n  }\r\n\r\n  if (data[1] >= 0 && data[1] > ly) {\r\n    y = ly;\r\n  }\r\n  if (data[1] >= 0 && data[1] < ly) {\r\n    y = data[1];\r\n  }\r\n\r\n  if (data[1] < 0 && data[1] < -ly) {\r\n    y = -ly;\r\n  }\r\n  if (data[1] < 0 && data[1] > -ly) {\r\n    y = data[1];\r\n  }\r\n  if (x !== data[0] || y !== data[1]) {\r\n    return [x, y];\r\n  } else {\r\n    return;\r\n  }\r\n}\r\n","module.exports = require(\"flv.lm.js\");","module.exports = require(\"hls.js\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");"],"sourceRoot":""}