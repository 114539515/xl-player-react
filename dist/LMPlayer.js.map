{"version":3,"sources":["webpack://LMPlayer/webpack/universalModuleDefinition","webpack://LMPlayer/webpack/bootstrap","webpack://LMPlayer/external \"React\"","webpack://LMPlayer/external \"Hls\"","webpack://LMPlayer/external \"flvjs\"","webpack://LMPlayer/external \"ReactDOM\"","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://LMPlayer/./src/event/index.js","webpack://LMPlayer/./src/util.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://LMPlayer/./src/context.js","webpack://LMPlayer/./src/iconfont.js","webpack://LMPlayer/./src/slider.js","webpack://LMPlayer/./src/contraller_bar/bar.js","webpack://LMPlayer/./src/contraller_bar/left_bar.js","webpack://LMPlayer/./src/contraller_bar/right_bar.js","webpack://LMPlayer/./src/contraller_bar/index.js","webpack://LMPlayer/./src/message.js","webpack://LMPlayer/./src/time_line.js","webpack://LMPlayer/./src/event/errorEvent.js","webpack://LMPlayer/./src/event/dragEvent.js","webpack://LMPlayer/./src/api.js","webpack://LMPlayer/./src/live_heart.js","webpack://LMPlayer/./src/player.js","webpack://LMPlayer/./src/history/time_line_history.js","webpack://LMPlayer/./src/history/play_end.js","webpack://LMPlayer/./src/history/index.js","webpack://LMPlayer/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","_createClass","protoProps","staticProps","_typeof2","obj","iterator","constructor","_typeof","_possibleConstructorReturn","self","ReferenceError","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_inherits","subClass","superClass","VideoEvent","video","this","events","eventName","handle","listener","push","type","addEventListener","removeEventListener","_len","arguments","data","Array","_key","forEach","v","apply","index","findIndex","splice","createHlsPlayer","file","player","Hls","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","createFlvPlayer","options","flvjs","isSupported","createPlayer","url","isLive","enableWorker","enableStashBuffer","attachMediaElement","load","getVideoType","resultArr","exec","replace","isFullscreen","ele","document","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","fullScreenListener","isAdd","fullscreenchange","funcName","map","computedBound","currentPosition","scale","lx","ly","eleRect","getBoundingClientRect","w","width","h","height","x","y","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","videoContext","React","createContext","Provider","Consumer","videoDec","Component","ComponentWithVideoDec","_React$Component","_this$props","forwardRef","external_React_default","a","createElement","context","assign","ref","IconFont","_ref","_ref$className","className","concat","Slider","_this","renderSliderTips","e","renderTips","_this$layoutDom$getBo","layoutDom","top","tipsX","pageX","percent","setState","tipsY","showTips","tempValue","hideSliderTips","cancelPropagation","stopPropagation","startDrag","dragFlag","body","moveChange","stopDrag","computedPositionForEvent","state","onChange","changeCurrentValue","event","_this$layoutDom$getBo2","sliderDomRef","createRef","lineDom","dragDom","currentPercent","nextProps","ReactDOM","findDOMNode","current","querySelector","_this$layoutDom$getBo3","dx","_this$state","_this$props$available","availablePercent","_this$props$className","style","children","draggable","left","slider_Tips","visibel","Tips","_this2","appendChild","removeChild","_this$props2","_this$props2$classNam","createPortal","Bar","_ref$visibel","LeftBar","updateRender","forceUpdate","changePlayStatus","api","paused","play","pause","mutedChange","muted","unmute","mute","volumechange","openSliderVolume","closeSliderVolume","onChangeVolume","volume","_this$props3","setVolume","parseFloat","toFixed","reload","emit","_this$props4","playerProps","volumeType","onClick","title","onMouseOver","onMouseOut","src_slider","precent","Math","round","RightBar","update","fullscreen","playContainer","cancelFullScreen","requestFullScreen","setScale","position","getPosition","getScale","setPosition","snapshot","base64","actions","isfull","ContrallerBar","left_bar","right_bar","VideoMessage","status","errorReload","timer","message","reloadFail","reloadSuccess","openLoading","loading","closeLoading","off","TineLine","getDuration","duration","getCurrentTime","currentTime","buffered","getSecondsLoaded","getBuffered","changePlayTime","seekTo","seekendPlay","renderTimeLineTips","time","second_time","ceil","second","min","floor","hour","timeStamp","fastForward","backWind","playPercent","bufferedPercent","ErrorEvent","errorTimer","clearError","errorHandle","_console","args","console","error","reconnectTimer","setTimeout","flvPlayer","hlsPlayer","ERROR","clearTimeout","DragEvent","openDrag","start","pageY","end","transformChange","Api","flv","hls","element","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","removeAttribute","stopLoad","destroy","unload","seconds","getBufferedTime","startLoad","fraction","requestPictureInPicture","pictureInPictureElement","exitPictureInPicture","rate","playbackRate","_this$player","seekable","Infinity","undefined","canvas","ctx","getContext","videoWidth","videoHeight","drawImage","remove","toDataURL","num","isRest","transition","__setTransform","isAnimate","transform","setPlaybackRate","__player","LiveHeart","isPlayError","clearHandle","updateProgress","progressTime","Date","now","focusSeekAction","heartAction","setInterval","warn","clearInterval","LMPlayer","initPlayer","src","renderVideoTools","Fragment","contraller_bar","src_message","src_time_line","errorEvent","dragEvent","live_heart","getPlayUrl","getPlayerApiContext","getApi","getProvider","playerType","videoKey","random","playContainerRef","playsinline","setAttribute","autoPlay","onInitPlayer","poster","providerValue","controls","historyList","playIndex","fragments","date","timetemp","YYYY","getFullYear","DD","getDate","MM","getMonth","hh","getHours","mm","getMinutes","ss","getSeconds","dateFormat","beginDate","getTime","computedLineList","disabled","size","begin","lineList","currentLine","filter","currentIndexTime","reduce","currentSizeLine","i2","currentIndexSize","PlayEnd","endedHandle","changePlayIndex","HistoryPlayer","checkFirstFile","defaultTime","computedIndexFormTime","isFrist","updateChunk","historyApi","seekTime","time_line_history","play_end","Player"],"mappings":"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","file":"LMPlayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"Hls\"), require(\"flvjs\"), require(\"ReactDOM\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LMPlayer\", [\"React\", \"Hls\", \"flvjs\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LMPlayer\"] = factory(require(\"React\"), require(\"Hls\"), require(\"flvjs\"), require(\"ReactDOM\"));\n\telse\n\t\troot[\"LMPlayer\"] = factory(root[\"React\"], root[\"Hls\"], root[\"flvjs\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","\r\nclass VideoEvent {\r\n  constructor(video) {\r\n    this.video = video;\r\n    this.events = {};\r\n  }\r\n  on(eventName, handle) {\r\n    this.events[eventName] ? this.events[eventName].listener.push(handle) : this.events[eventName] = { type: eventName, listener: [handle] };\r\n  }\r\n  addEventListener(eventName, handle) {\r\n    this.video.addEventListener(eventName, handle, false);\r\n  }\r\n  removeEventListener() {\r\n    this.video.removeEventListener(eventName, handle, false);\r\n  }\r\n  emit(eventName, ...data) {\r\n    if (!this.events[eventName]) {\r\n      return\r\n    }\r\n    this.events[eventName].listener.forEach(v => {\r\n      v(...data);\r\n    });\r\n  }\r\n  off(eventName, handle) {\r\n    if (!this.events.eventName) {\r\n      return\r\n    }\r\n    let index = this.events[eventName].listener.findIndex(v => v === handle);\r\n    index > -1 && this.events[eventName].listener.splice(index, 1);\r\n  }\r\n  destroy() {\r\n    this.video = null;\r\n    this.events = null;\r\n  }\r\n}\r\n\r\nexport default VideoEvent;\r\n","import flvjs from \"flv.js\";\r\nimport Hls from \"hls.js\";\r\nexport function createHlsPlayer(video, file) {\r\n  const player = new Hls();\r\n  player.attachMedia(video);\r\n  player.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n    player.loadSource(file);\r\n    player.on(Hls.Events.MANIFEST_PARSED, () => {\r\n      // console.log(player);\r\n    });\r\n  });\r\n  return player;\r\n}\r\n\r\nexport function createFlvPlayer(video, options) {\r\n  if (flvjs.isSupported()) {\r\n    const player = flvjs.createPlayer(\r\n      {\r\n        type: \"flv\",\r\n        url: options.file,\r\n        isLive: !!options.isLive\r\n      },\r\n      {\r\n        enableWorker: false,\r\n        enableStashBuffer: false,\r\n        isLive: !!options.isLive\r\n      }\r\n    );\r\n    player.attachMediaElement(video);\r\n    player.load();\r\n    return player;\r\n  }\r\n}\r\nexport function getVideoType(url) {\r\n  const reg = /([^\\.\\/\\\\]+)\\.(([a-z]|[0-9])+(\\?\\S+)?)$/i;\r\n  const resultArr = reg.exec(url);\r\n  if (resultArr) {\r\n    return resultArr[2].replace(resultArr[4], '');\r\n  }\r\n}\r\n\r\nexport function timeStamp(second_time) {\r\n  let time = Math.ceil(second_time);\r\n  if (time > 60) {\r\n    let second = Math.ceil(second_time % 60);\r\n    let min = Math.floor(second_time / 60);\r\n    time = `${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\r\n    if (min > 60) {\r\n      min = Math.ceil((second_time / 60) % 60);\r\n      let hour = Math.floor(second_time / 60 / 60);\r\n      time = `${hour < 10 ? `0${hour}` : hour}:${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\r\n    } else {\r\n      time = `00:${time}`\r\n    }\r\n  } else {\r\n    time = `00:00:${time < 10 ? `0${time}` : time}`\r\n  }\r\n\r\n  return time;\r\n}\r\n\r\nexport function dateFormat(timetemp) {\r\n  const date = new Date(timetemp)\r\n  let YYYY = date.getFullYear()\r\n  let DD = date.getDate()\r\n  let MM = date.getMonth() + 1\r\n  let hh = date.getHours()\r\n  let mm = date.getMinutes()\r\n  let ss = date.getSeconds()\r\n  return `${YYYY}.${MM > 10 ? MM : '0' + MM}.${DD > 10 ? DD : '0' + DD} ${hh > 10 ? hh : '0' + hh}.${mm > 10 ? mm : '0' + mm}.${ss > 10 ? ss : '0' + ss}`\r\n}\r\n\r\nexport function fullscreen(element) {\r\n  if (element.requestFullScreen) {\r\n    element.requestFullScreen();\r\n  } else if (element.webkitRequestFullScreen) {\r\n    element.webkitRequestFullScreen();\r\n  } else if (element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  } else if (element.msRequestFullscreen) {\r\n    element.msRequestFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * exitFullscreen 退出全屏\r\n * @param  {Objct} element 选择器\r\n */\r\nexport function exitFullscreen() {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) {\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) {\r\n    document.msExitFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * 判读是否支持全屏\r\n */\r\nexport function fullscreenEnabled() {\r\n  return (\r\n    document.fullscreenEnabled ||\r\n    document.mozFullScreenEnabled ||\r\n    document.webkitFullscreenEnabled ||\r\n    document.msFullscreenEnabled\r\n  );\r\n}\r\n\r\n/**\r\n * [isFullscreen 判断浏览器是否全屏]\r\n * @return [全屏则返回当前调用全屏的元素,不全屏返回false]\r\n */\r\nexport function isFullscreen(ele) {\r\n  if (!ele) {\r\n    return false\r\n  }\r\n  return (\r\n    document.fullscreenElement === ele ||\r\n    document.msFullscreenElement === ele ||\r\n    document.mozFullScreenElement === ele ||\r\n    document.webkitFullscreenElement === ele ||\r\n    false\r\n  );\r\n}\r\n// 添加 / 移除 全屏事件监听\r\nexport function fullScreenListener(isAdd, fullscreenchange) {\r\n  const funcName = isAdd ? 'addEventListener' : 'removeEventListener';\r\n  const fullScreenEvents = [\r\n    'fullscreenchange',\r\n    'mozfullscreenchange',\r\n    'webkitfullscreenchange',\r\n    'msfullscreenchange'\r\n  ];\r\n  fullScreenEvents.map((v) => document[funcName](v, fullscreenchange));\r\n}\r\n\r\nexport function computedBound(ele, currentPosition, scale) {\r\n  const data = currentPosition;\r\n  const eleRect = ele.getBoundingClientRect();\r\n  const w = eleRect.width;\r\n  const h = eleRect.height;\r\n  let lx = 0,\r\n    ly = 0;\r\n  if (scale === 1) {\r\n    return [0, 0];\r\n  }\r\n  lx = (w * (scale - 1)) / 2 / scale\r\n  ly = (h * (scale - 1)) / 2 / scale\r\n  let x = 0,\r\n    y = 0;\r\n  if (data[0] >= 0 && data[0] > lx) {\r\n    x = lx;\r\n  }\r\n  if (data[0] >= 0 && data[0] < lx) {\r\n    x = data[0];\r\n  }\r\n\r\n  if (data[0] < 0 && data[0] < -lx) {\r\n    x = -lx;\r\n  }\r\n  if (data[0] < 0 && data[0] > -lx) {\r\n    x = data[0];\r\n  }\r\n\r\n  if (data[1] >= 0 && data[1] > ly) {\r\n    y = ly;\r\n  }\r\n  if (data[1] >= 0 && data[1] < ly) {\r\n    y = data[1];\r\n  }\r\n\r\n  if (data[1] < 0 && data[1] < -ly) {\r\n    y = -ly;\r\n  }\r\n  if (data[1] < 0 && data[1] > -ly) {\r\n    y = data[1];\r\n  }\r\n  if (x !== data[0] || y !== data[1]) {\r\n    return [x, y];\r\n  } else {\r\n    return;\r\n  }\r\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\r\n\r\nconst videoContext = React.createContext(null);\r\n\r\nexport const Provider = videoContext.Provider;\r\nexport const Consumer = videoContext.Consumer;\r\n\r\nexport function videoDec(Component) {\r\n  class ComponentWithVideoDec extends React.Component {\r\n    render() {\r\n      const { forwardRef, ...props } = this.props;\r\n      return <Consumer>{context => <Component {...props} {...context} ref={forwardRef} />}</Consumer>;\r\n    }\r\n  }\r\n  return React.forwardRef((props, ref) => <ComponentWithVideoDec {...props} forwardRef={ref} />);\r\n}\r\n","import React from \"react\";\r\nimport \"./style/iconfont.less\";\r\nexport default function IconFont({ type, className = \"\", ...props }) {\r\n  return <i className={`lm-player-iconfont ${type} ${className}`} {...props} />;\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style/slider.less\";\r\n\r\nclass Slider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.sliderDomRef = React.createRef();\r\n    this.layoutDom = null;\r\n    this.lineDom = null;\r\n    this.dragDom = null;\r\n    this.dragFlag = false;\r\n    this.state = {\r\n      value: this.props.currentPercent || 0,\r\n      tempValue: 0,\r\n      showTips: false,\r\n      tipsX: 0,\r\n      tipsY: 0\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (!this.dragFlag) {\r\n      this.setState({ value: nextProps.currentPercent || 0 });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.layoutDom = ReactDOM.findDOMNode(this.sliderDomRef.current);\r\n    this.dragDom = this.layoutDom.querySelector(\".drag-change-icon\");\r\n    this.lineDom = this.layoutDom.querySelector(\".slider-content\");\r\n\r\n    this.layoutDom.addEventListener(\"mousemove\", this.renderSliderTips, false);\r\n    this.layoutDom.addEventListener(\"mouseout\", this.hideSliderTips, false);\r\n    this.lineDom.addEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.addEventListener(\"click\", this.cancelPropagation, false);\r\n    this.dragDom.addEventListener(\"mousedown\", this.startDrag, false);\r\n  }\r\n  componentWillUnmount() {\r\n    this.layoutDom.removeEventListener(\"mousemove\", this.renderSliderTips, false);\r\n    this.layoutDom.removeEventListener(\"mouseout\", this.hideSliderTips, false);\r\n    this.lineDom.removeEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.removeEventListener(\"click\", this.cancelPropagation, false);\r\n    this.dragDom.removeEventListener(\"mousedown\", this.startDrag, false);\r\n\r\n    document.body.removeEventListener(\"mousemove\", this.moveChange);\r\n    document.body.removeEventListener(\"mouseup\", this.stopDrag);\r\n\r\n    this.sliderDomRef = null;\r\n    this.layoutDom = null;\r\n    this.lineDom = null;\r\n    this.dragDom = null;\r\n    this.dragFlag = null;\r\n  }\r\n  renderSliderTips = e => {\r\n    const { renderTips } = this.props;\r\n    if (!renderTips) {\r\n      return;\r\n    }\r\n    const { x, width, top } = this.layoutDom.getBoundingClientRect();\r\n    const tipsX = e.pageX;\r\n    let percent = (e.pageX - x) / width;\r\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\r\n    this.setState({ tipsX, tipsY: top, showTips: true, tempValue: percent });\r\n  };\r\n  hideSliderTips = () => {\r\n    this.setState({ showTips: false });\r\n  };\r\n  cancelPropagation = e => {\r\n    e.stopPropagation();\r\n  };\r\n  startDrag = e => {\r\n    e.stopPropagation();\r\n    this.dragFlag = true;\r\n    document.body.addEventListener(\"mousemove\", this.moveChange);\r\n    document.body.addEventListener(\"mouseup\", this.stopDrag);\r\n  };\r\n  moveChange = e => {\r\n    e.stopPropagation();\r\n    const percent = this.computedPositionForEvent(e);\r\n    this.setState({ value: percent });\r\n  };\r\n  stopDrag = e => {\r\n    e.stopPropagation();\r\n    document.body.removeEventListener(\"mousemove\", this.moveChange);\r\n    document.body.removeEventListener(\"mouseup\", this.stopDrag);\r\n    this.dragFlag = false;\r\n    let percent = this.state.value / 100;\r\n    percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\r\n    this.props.onChange && this.props.onChange(percent);\r\n  };\r\n  computedPositionForEvent(e) {\r\n    const { x, width } = this.layoutDom.getBoundingClientRect();\r\n    const { pageX } = e;\r\n    let dx = pageX - x;\r\n    if (dx > width) {\r\n      dx = width;\r\n    }\r\n    if (dx < 0) {\r\n      dx = 0;\r\n    }\r\n    return (dx / width) * 100;\r\n  }\r\n  changeCurrentValue = event => {\r\n    event.stopPropagation();\r\n    const { width, x } = this.layoutDom.getBoundingClientRect();\r\n    let percent = (event.pageX - x) / width;\r\n    this.props.onChange && this.props.onChange(percent);\r\n  };\r\n  render() {\r\n    const { value, showTips, tipsX, tipsY } = this.state;\r\n    const { availablePercent = 0, className = \"\" } = this.props;\r\n    return (\r\n      <div className={`slider-layout ${className}`} ref={this.sliderDomRef}>\r\n        <div className=\"slider-content\">\r\n          <div className=\"slider-max-line\" />\r\n          <div className=\"slider-visibel-line\" style={{ width: `${availablePercent}%` }} />\r\n          <div className=\"slider-current-line\" style={{ width: `${value}%` }} />\r\n          {this.props.children}\r\n        </div>\r\n        <div className=\"slider-other-content\">\r\n          <div className=\"drag-change-icon\" draggable={false} style={{ left: `${value}%` }} />\r\n        </div>\r\n        <Tips visibel={showTips} className=\"lm-player-slide-tips\" style={{ left: tipsX, top: tipsY }}>\r\n          {this.props.renderTips && this.props.renderTips(this.state.tempValue)}\r\n        </Tips>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Tips extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ele = document.createElement(\"div\");\r\n  }\r\n  componentDidMount() {\r\n    document.body.appendChild(this.ele);\r\n  }\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.ele);\r\n    this.ele = null;\r\n  }\r\n  render() {\r\n    const { visibel, children, style, className = \"\" } = this.props;\r\n    return ReactDOM.createPortal(\r\n      visibel ? (\r\n        <div className={className} style={style}>\r\n          {children}\r\n        </div>\r\n      ) : null,\r\n      this.ele\r\n    );\r\n  }\r\n}\r\n\r\nexport default Slider;\r\n","import React from \"react\";\r\nexport default function Bar({ visibel = true, className, children, ...props }) {\r\n  if (visibel === false) {\r\n    return null;\r\n  }\r\n  return (\r\n    <span className={`contraller-bar-item ${className}`} {...props}>\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport IconFont from \"../iconfont\";\r\nimport { videoDec } from \"../context\";\r\nimport Slider from '../slider'\r\nimport Bar from './bar'\r\n\r\n@videoDec\r\nclass LeftBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openSliderVolume: false\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.event.addEventListener(\"play\", this.updateRender);\r\n    this.props.event.addEventListener(\"pause\", this.updateRender);\r\n    this.props.event.addEventListener(\"volumechange\", this.volumechange);\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.event.removeEventListener(\"play\", this.updateRender);\r\n    this.props.event.removeEventListener(\"pause\", this.updateRender);\r\n    this.props.event.removeEventListener(\"volumechange\", this.volumechange);\r\n  }\r\n  updateRender = () => {\r\n    this.forceUpdate();\r\n  };\r\n  changePlayStatus = () => {\r\n    const { api, video } = this.props;\r\n    video.paused ? api.play() : api.pause()\r\n  };\r\n  mutedChange = () => {\r\n    const { api, video } = this.props;\r\n    video.muted ? api.unmute() : api.mute();\r\n  }\r\n  volumechange = () => {\r\n    this.forceUpdate();\r\n  }\r\n  openSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: true\r\n    })\r\n  }\r\n  closeSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: false\r\n    })\r\n  }\r\n  onChangeVolume = (volume) => {\r\n    const { api, video } = this.props;\r\n    api.setVolume(parseFloat(volume.toFixed(1)))\r\n    if (volume > 0 && video.muted) {\r\n      api.unmute()\r\n    }\r\n\r\n  }\r\n  reload = () => {\r\n    this.props.api.reload()\r\n    this.props.event.emit('reload')\r\n  }\r\n  render() {\r\n    const { openSliderVolume } = this.state\r\n    const { video, playerProps } = this.props;\r\n    const volumeType = video.volume === 1 ? 'lm-player-volume-max' : 'lm-player-volume-normal-fuben'\r\n    return (\r\n      <div className=\"contraller-left-bar\">\r\n        <Bar visibel={!playerProps.isLive}>\r\n          <IconFont onClick={this.changePlayStatus} type={video.paused ? \"lm-player-Play_Main\" : \"lm-player-Pause_Main\"} title={video.paused ? \"播放\" : \"暂停\"} />\r\n        </Bar>\r\n        <Bar\r\n          className={`contraller-bar-volume ${openSliderVolume ? 'contraller-bar-hover-volume' : ''}`}\r\n          onMouseOver={this.openSliderVolume}\r\n          onMouseOut={this.closeSliderVolume}>\r\n          <IconFont onClick={this.mutedChange} type={video.muted ? \"lm-player-volume-close\" : volumeType} title=\"音量\" />\r\n          <div className=\"volume-slider-layout\">\r\n            <Slider className=\"volume-slider\" \r\n              currentPercent={video.muted ? 0 : video.volume * 100} \r\n              onChange={this.onChangeVolume} \r\n              renderTips={(precent) => <span>{Math.round(precent * 100)}%</span>}/>\r\n          </div>\r\n        </Bar>\r\n        <Bar><IconFont onClick={this.reload} type=\"lm-player-Refresh_Main\" title=\"重载\" /></Bar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default LeftBar;\r\n","import React from 'react'\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from \"../iconfont\";\r\nimport { isFullscreen, fullScreenListener, computedBound } from '../util'\r\n\r\n@videoDec\r\nclass RightBar extends React.Component {\r\n    componentDidMount() {\r\n        fullScreenListener(true, this.update)\r\n    }\r\n    componentWillUnmount() {\r\n        fullScreenListener(false, this.update)\r\n    }\r\n    update = () => {\r\n        this.forceUpdate()\r\n    }\r\n    fullscreen = () => {\r\n        const { api, playContainer } = this.props\r\n        if (!isFullscreen(playContainer)) {\r\n            api.requestFullScreen()\r\n        } else {\r\n            api.cancelFullScreen()\r\n        }\r\n        this.forceUpdate()\r\n    }\r\n    setScale = (...args) => {\r\n        const { api, playContainer } = this.props\r\n        const dragDom = playContainer.querySelector('.player-mask-layout')\r\n        api.setScale(...args)\r\n        let position = computedBound(dragDom, api.getPosition(), api.getScale())\r\n        position && api.setPosition(position, true)\r\n    }\r\n    snapshot = () => {\r\n        const { api, playerProps } = this.props\r\n        const base64 = api.snapshot()\r\n        if (playerProps.actions && playerProps.actions.snapshot) {\r\n            playerProps.actions.snapshot(base64)\r\n        }\r\n    }\r\n    render() {\r\n        const { playContainer } = this.props\r\n        const isfull = isFullscreen(playContainer)\r\n        return <div className=\"contraller-right-bar\">\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont title=\"缩小\" onClick={() => this.setScale(-0.2)} type={\"lm-player-ZoomOut_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont title=\"复位\" onClick={() => this.setScale(1, true)} type={\"lm-player-ZoomDefault_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont title=\"放大\" onClick={() => this.setScale(0.2)} type={\"lm-player-ZoomIn_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont title=\"截图\" onClick={this.snapshot} type=\"lm-player-SearchBox\" />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont title={isfull ? \"窗口\" : \"全屏\"} onClick={this.fullscreen} type={isfull ? \"lm-player-ExitFull_Main\" : \"lm-player-Full_Main\"} />\r\n            </span>\r\n        </div>\r\n    }\r\n}\r\nexport default RightBar","import React from \"react\";\r\nimport LeftBar from \"./left_bar\";\r\nimport RightBar from \"./right_bar\";\r\nimport \"../style/bar.less\"\r\nclass ContrallerBar extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"contraller-bar-layout\">\r\n        <LeftBar />\r\n        <RightBar />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContrallerBar;\r\n","import React from \"react\";\r\nimport IconFont from \"./iconfont\";\r\nimport { videoDec } from \"./context\";\r\n\r\nimport \"./style/message.less\";\r\n\r\n@videoDec\r\nclass VideoMessage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      status: null\r\n    };\r\n    this.message = null;\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadstart\", this.openLoading);\r\n    event.addEventListener(\"waiting\", this.openLoading);\r\n    event.addEventListener(\"seeking\", this.openLoading);\r\n    event.addEventListener(\"loadeddata\", this.closeLoading);\r\n    event.addEventListener(\"canplay\", this.closeLoading);\r\n    event.on(\"errorReload\", this.errorReload);\r\n    event.on(\"reloadFail\", this.reloadFail);\r\n    event.on(\"reloadSuccess\", this.reloadSuccess);\r\n    event.on(\"reload\", this.reload);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadstart\", this.openLoading);\r\n    event.removeEventListener(\"waiting\", this.openLoading);\r\n    event.removeEventListener(\"seeking\", this.openLoading);\r\n    event.removeEventListener(\"loadeddata\", this.closeLoading);\r\n    event.removeEventListener(\"canplay\", this.closeLoading);\r\n    event.off(\"errorReload\", this.errorReload);\r\n    event.off(\"reloadFail\", this.reloadFail);\r\n    event.off(\"reloadSuccess\", this.reloadSuccess);\r\n    event.off(\"reload\", this.reload);\r\n  }\r\n  reload = () => {\r\n    this.setState({ status: \"reload\" });\r\n  };\r\n  errorReload = timer => {\r\n    this.message = <div>视频加载错误,正在进行重连第{timer}重连</div>;\r\n    this.setState({ status: \"reload\" });\r\n  };\r\n  reloadFail = () => {\r\n    this.message = <div>视频错误</div>;\r\n    this.setState({ status: \"fail\" });\r\n  };\r\n  reloadSuccess = () => {\r\n    this.message = null;\r\n    this.setState({ status: null });\r\n  };\r\n  openLoading = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n  closeLoading = () => {\r\n    this.setState({ loading: false });\r\n  };\r\n  render() {\r\n    const { loading, status } = this.state;\r\n    return (\r\n      <div className={`lm-player-message-mask ${loading ? \"lm-player-mask-loading-animation\" : \"\"}`}>\r\n        <IconFont\r\n          type={status === \"fail\" ? \"lm-player-YesorNo_No_Dark\" : \"lm-player-Loading\"}\r\n          className={`${loading && status !== \"fail\" ? \"lm-player-loading-animation\" : status === \"fail\" ? \"lm-player-loadfail\" : \"\"} lm-player-loading-icon`}\r\n        />\r\n        <span className=\"lm-player-message\">{this.message}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoMessage;\r\n","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\nimport IconFont from './iconfont'\r\nimport Slider from './slider'\r\nimport { timeStamp } from './util'\r\nimport \"./style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 0,\r\n      currentTime: 0,\r\n      buffered: 0\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered)\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered)\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    }\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered\r\n    }\r\n    this.setState(state);\r\n  };\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n  changePlayTime = percent => {\r\n    const { video, api } = this.props;\r\n    const currentTime = percent * this.state.duration\r\n    if (!video.paused) {\r\n      api.pause();\r\n    }\r\n    this.setState({ currentTime });\r\n    api.seekTo(currentTime);\r\n  };\r\n  seekendPlay = () => {\r\n    const { video, api } = this.props;\r\n    if (video.paused) {\r\n      api.play();\r\n    }\r\n  };\r\n  renderTimeLineTips = (percent) => {\r\n    const currentTime = percent * this.state.duration\r\n    const time = timeStamp(currentTime)\r\n    return <span>{time}</span>\r\n  }\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward()\r\n  }\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind()\r\n  }\r\n  render() {\r\n    const { duration, currentTime, buffered } = this.state;\r\n    const playPercent = Math.round((currentTime / duration) * 100);\r\n    const bufferedPercent = Math.round((buffered / duration) * 100);\r\n    return (\r\n      <div className=\"video-time-line-layout\">\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider\r\n          className=\"time-line-box\"\r\n          currentPercent={playPercent}\r\n          availablePercent={bufferedPercent}\r\n          onChange={this.changePlayTime}\r\n          renderTips={this.renderTimeLineTips} />\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import React from \"react\";\r\nimport flvjs from \"flv.js\";\r\nimport Hls from \"hls.js\";\r\nimport { videoDec } from \"../context\";\r\n\r\n@videoDec\r\nclass ErrorEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.errorTimer = 0;\r\n  }\r\n  componentDidMount() {\r\n    const { event, flvPlayer, hlsPlayer } = this.props;\r\n    if (flvPlayer) {\r\n      flvPlayer.on(flvjs.Events.ERROR, this.errorHandle);\r\n    }\r\n    if (hlsPlayer) {\r\n      hlsPlayer.on(Hls.Events.ERROR, this.errorHandle);\r\n    }\r\n    event.addEventListener(\"error\", this.errorHandle, false);\r\n    event.addEventListener(\"canplay\", this.clearError, false);\r\n    event.on(\"reload\", this.reload);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.flvPlayer && nextProps.flvPlayer !== this.props.flvPlayer) {\r\n      nextProps.flvPlayer.on(flvjs.Events.ERROR, this.errorHandle);\r\n    }\r\n    if (nextProps.hlsPlayer && nextProps.hlsPlayer !== this.props.hlsPlayer) {\r\n      nextProps.hlsPlayer.on(Hls.Events.ERROR, this.errorHandle);\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    const { event, flvPlayer, hlsPlayer } = this.props;\r\n    event.removeEventListener(\"error\", this.errorHandle, false);\r\n    flvPlayer && flvPlayer.off(flvjs.Events.ERROR, this.errorHandle);\r\n    hlsPlayer && hlsPlayer.off(Hls.Events.ERROR, this.errorHandle);\r\n    event.off(\"reload\", this.reload);\r\n    clearTimeout(this.reconnectTimer)\r\n  }\r\n\r\n  reload = () => {\r\n    this.errorTimer = 0;\r\n  };\r\n  /**\r\n   * 清除播放错误状态\r\n   */\r\n  clearError = () => {\r\n    const { event } = this.props;\r\n    if (this.errorTimer > 0) {\r\n      event.emit(\"reloadSuccess\");\r\n      this.errorTimer = 0;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 捕获错误\r\n   */\r\n  errorHandle = (...args) => {\r\n    const { event, api } = this.props;\r\n    const timer = this.errorTimer + 1;\r\n    event.emit(\"error\", ...args);\r\n    if (timer > 5) {\r\n      event.emit(\"reloadFail\");\r\n    } else {\r\n      event.emit(\"errorReload\", timer, ...args);\r\n      console.error(`视频播放出错，正在进行重连${timer}`, ...args);\r\n      this.errorTimer = timer;\r\n      this.reconnectTimer = setTimeout(() => {\r\n        api.reload();\r\n      }, 500);\r\n    }\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorEvent;\r\n","import React from 'react'\r\nimport { videoDec } from '../context'\r\nimport {computedBound} from '../util'\r\n\r\n@videoDec\r\nclass DragEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    const { playContainer, event } = props\r\n\r\n    this.dragDom = playContainer.querySelector('.player-mask-layout')\r\n    this.position = {\r\n      start: [0, 0],\r\n      end: [0, 0]\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.dragDom.addEventListener('mousedown', this.openDrag)\r\n    this.props.event.addEventListener('transform', this.transformChange, true)\r\n  }\r\n  componentWillUnmount() {\r\n    this.dragDom.removeEventListener('mousedown', this.openDrag)\r\n    this.props.event.removeEventListener('transform', this.transformChange)\r\n  }\r\n  openDrag = (e) => {\r\n    this.position.start = [e.pageX, e.pageY]\r\n    this.dragDom.addEventListener('mousemove', this.moveChange)\r\n    this.dragDom.addEventListener('mouseup', this.stopDrag)\r\n\r\n  }\r\n  moveChange = (e) => {\r\n    const { api } = this.props\r\n    const currentPosition = api.getPosition()\r\n    this.position.end = [e.pageX, e.pageY]\r\n    const x = currentPosition[0] + (this.position.end[0] - this.position.start[0])\r\n    const y = currentPosition[1] + (this.position.end[1] - this.position.start[1])\r\n    const position = [x, y]\r\n    api.setPosition(position)\r\n    this.position.start = [e.pageX, e.pageY]\r\n  }\r\n  stopDrag = () => {\r\n    this.dragDom.removeEventListener('mousemove', this.moveChange)\r\n    this.dragDom.removeEventListener('mouseup', this.stopDrag)\r\n    this.transformChange()\r\n  }\r\n  transformChange = () => {\r\n    const { api } = this.props\r\n    let position = computedBound(this.dragDom, api.getPosition(), api.getScale())\r\n    position && api.setPosition(position, true)\r\n  }\r\n  \r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\nexport default DragEvent","import { fullscreen, isFullscreen, exitFullscreen } from './util'\r\nexport default class Api {\r\n  constructor(video, playContainer, event, flv, hls) {\r\n    this.player = video;\r\n    this.playContainer = playContainer\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n    this.event = event\r\n    this.scale = 1;\r\n    this.position = [0, 0]\r\n  }\r\n  updateChunk({ flv, hls }) {\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n  }\r\n  requestFullScreen() {\r\n    if (!isFullscreen(this.playContainer)) {\r\n      fullscreen(this.playContainer)\r\n    }\r\n  }\r\n  cancelFullScreen() {\r\n    if (isFullscreen(this.playContainer)) {\r\n      exitFullscreen()\r\n    }\r\n  }\r\n  play() {\r\n    if (this.player.paused) {\r\n      this.player.play();\r\n    }\r\n  }\r\n  pause() {\r\n    this.player.pause();\r\n  }\r\n  destroy() {\r\n    this.player.removeAttribute(\"src\");\r\n    if (this.hls) {\r\n      this.hls.stopLoad()\r\n      this.hls.destroy();\r\n    }\r\n    if (this.flv) {\r\n      this.flv.unload();\r\n      this.flv.destroy();\r\n    }\r\n    this.player = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playContainer = null\r\n    this.event = null\r\n    this.scale = null;\r\n    this.position = null\r\n  }\r\n  seekTo(seconds) {\r\n    const buffered = this.getBufferedTime()\r\n    if (this.flv && buffered[0] > seconds) {\r\n      this.flv.unload();\r\n      this.flv.load();\r\n    }\r\n    this.player.currentTime = seconds;\r\n  }\r\n  reload() {\r\n    if (this.flv) {\r\n      this.flv.unload()\r\n      this.flv.load()\r\n      this.play()\r\n      return\r\n    }\r\n    if (this.hls) {\r\n      this.hls.stopLoad()\r\n      this.hls.startLoad()\r\n      this.play()\r\n      return\r\n    }\r\n    this.seekTo(0)\r\n  }\r\n  setVolume(fraction) {\r\n    this.player.volume = fraction;\r\n  }\r\n  mute() {\r\n    this.player.muted = true;\r\n  };\r\n  unmute() {\r\n    this.player.muted = false;\r\n  };\r\n  requestPictureInPicture() {\r\n    if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\r\n      this.player.requestPictureInPicture();\r\n    }\r\n  }\r\n  exitPictureInPicture() {\r\n    if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\r\n      document.exitPictureInPicture();\r\n    }\r\n  }\r\n  setPlaybackRate(rate) {\r\n    this.player.playbackRate = rate;\r\n  }\r\n  getDuration() {\r\n    if (!this.player) return null;\r\n    const { duration, seekable } = this.player;\r\n    if (duration === Infinity && seekable.length > 0) {\r\n      return seekable.end(seekable.length - 1);\r\n    }\r\n    return duration;\r\n  }\r\n  getCurrentTime() {\r\n    if (!this.player) return null;\r\n    return this.player.currentTime;\r\n  }\r\n  getSecondsLoaded() {\r\n    return this.getBufferedTime()[1]\r\n  }\r\n  getBufferedTime() {\r\n    if (!this.player) return null;\r\n    const { buffered } = this.player;\r\n    if (buffered.length === 0) {\r\n      return [0, 0];\r\n    }\r\n    const end = buffered.end(buffered.length - 1);\r\n    const start = buffered.start(buffered.length - 1);\r\n    const duration = this.getDuration();\r\n    if (end > duration) {\r\n      return duration;\r\n    }\r\n    return [start, end];\r\n  }\r\n  fastForward(second = 5) {\r\n    const duration = this.getDuration()\r\n    const currentTime = this.getCurrentTime()\r\n    const time = currentTime + second\r\n    this.seekTo(time > duration - 1 ? duration - 1 : time)\r\n  }\r\n  backWind(second = 5) {\r\n    const currentTime = this.getCurrentTime()\r\n    const time = currentTime - second\r\n    this.seekTo(time < 1 ? 1 : time)\r\n  }\r\n  snapshot() {\r\n    let canvas = document.createElement('canvas')\r\n    let ctx = canvas.getContext('2d')\r\n    canvas.width = this.player.videoWidth\r\n    canvas.height = this.player.videoHeight\r\n    ctx.drawImage(this.player, 0, 0, canvas.width, canvas.height)\r\n    setTimeout(() => {\r\n      canvas.remove()\r\n      canvas = null;\r\n      ctx = null\r\n    }, 200)\r\n    return canvas.toDataURL()\r\n  }\r\n  setScale(num, isRest = false) {\r\n    let scale = this.scale + num\r\n    if (isRest) {\r\n      scale = num\r\n    } else {\r\n\r\n      if (scale < 1) {\r\n        scale = 1\r\n      }\r\n      if (scale > 3) {\r\n        scale = 3\r\n      }\r\n    }\r\n    this.scale = scale\r\n    this.player.style.transition = 'transform 0.3s'\r\n    this.__setTransform()\r\n    this.event.emit('transform')\r\n    setTimeout(() => {\r\n      this.player.style.transition = 'unset'\r\n    }, 500)\r\n  }\r\n  getScale() {\r\n    return this.scale\r\n  }\r\n  setPosition(position, isAnimate) {\r\n    this.position = position\r\n    this.player.style.transition = isAnimate ? 'transform 0.3s' : 'unset'\r\n    this.__setTransform()\r\n  }\r\n  getPosition() {\r\n    return this.position\r\n  }\r\n  __setTransform() {\r\n    this.player.style.transform = `scale(${this.scale}) translate(${this.position[0]}px,${this.position[1]}px)`\r\n\r\n  }\r\n  getApi() {\r\n    return {\r\n      play: this.play.bind(this),\r\n      pause: this.pause.bind(this),\r\n      seekTo: this.seekTo.bind(this),\r\n      setVolume: this.setVolume.bind(this),\r\n      mute: this.mute.bind(this),\r\n      unmute: this.unmute.bind(this),\r\n      requestPictureInPicture: this.requestPictureInPicture.bind(this),\r\n      exitPictureInPicture: this.exitPictureInPicture.bind(this),\r\n      setPlaybackRate: this.setPlaybackRate.bind(this),\r\n      destroy: this.destroy.bind(this),\r\n      getDuration: this.getDuration.bind(this),\r\n      getCurrentTime: this.getCurrentTime.bind(this),\r\n      getSecondsLoaded: this.getSecondsLoaded.bind(this),\r\n      getBufferedTime: this.getBufferedTime.bind(this),\r\n      fastForward: this.fastForward.bind(this),\r\n      backWind: this.backWind.bind(this),\r\n      snapshot: this.snapshot.bind(this),\r\n      requestFullScreen: this.requestFullScreen.bind(this),\r\n      cancelFullScreen: this.cancelFullScreen.bind(this),\r\n      __player: this.player\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\n\r\n@videoDec\r\nclass LiveHeart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.progressTime = Date.now();\r\n    this.timer = null;\r\n    this.isPlayError = false\r\n  }\r\n  componentDidMount() {\r\n    const {event} = this.props\r\n    event.addEventListener(\"progress\", this.updateProgress);\r\n    event.on('error',this.errorHandle)\r\n    event.on('reloadSuccess',this.clearHandle)\r\n    this.heartAction();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.event.removeEventListener(\"progress\", this.updateProgress);\r\n    event.off('error',this.errorHandle)\r\n    event.off('reloadSuccess',this.clearHandle)\r\n    clearInterval(this.timer);\r\n  }\r\n\r\n  errorHandle = () => {\r\n    this.isPlayError = true\r\n  }\r\n  clearHandle = () => {\r\n    this.isPlayError = false\r\n  }\r\n  /**\r\n   * 监听视频进度\r\n   */\r\n  updateProgress = () => {\r\n    this.progressTime = Date.now();\r\n    this.focusSeekAction();\r\n  };\r\n\r\n  /**\r\n   * 心跳监听是否视频断流了\r\n   */\r\n  heartAction = () => {\r\n    this.timer = setInterval(() => {\r\n      const timeNow = Date.now()\r\n      if (timeNow - this.progressTime > 10 * 1000 && !this.isPlayError ) {\r\n        console.warn(\"当前实时视频缓存未更新，执行reload操作\");\r\n        this.props.api.reload();\r\n      }\r\n    }, 1000 * 10);\r\n  };\r\n  /**\r\n   * 更新currentTime\r\n   */\r\n  focusSeekAction = () => {\r\n    const { api } = this.props;\r\n    const current = api.getCurrentTime();\r\n    const buffered = api.getSecondsLoaded();\r\n    if (buffered - current > 5) {\r\n      console.warn(\r\n        `当前延时过大current->${current} buffered->${buffered}, 基于视频当前缓存时间更新当前播放时间 updateTime -> ${buffered -\r\n          2}`\r\n      );\r\n      api.seekTo(buffered - 2 > 0 ? buffered - 2 : 0);\r\n    }\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default LiveHeart;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport VideoEvent from \"./event\";\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"./util\";\r\nimport { Provider } from \"./context\";\r\nimport ContrallerBar from \"./contraller_bar\";\r\nimport VideoMessage from \"./message\";\r\nimport TimeLine from \"./time_line\";\r\nimport ErrorEvent from \"./event/errorEvent\";\r\nimport DragEvent from \"./event/dragEvent\";\r\nimport Api from \"./api\";\r\nimport LiveHeart from \"./live_heart\";\r\nimport \"./style/index.less\";\r\n\r\nclass LMPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoKey = Math.random();\r\n    this.player = null;\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playerType = null;\r\n    this.playContainerRef = React.createRef();\r\n    this.playContainer = null;\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current);\r\n    this.player = this.playContainer.querySelector(\"video\");\r\n    this.initPlayer();\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    if (this.props.playsinline) {\r\n      this.player.setAttribute(\"playsinline\", \"\");\r\n      this.player.setAttribute(\"webkit-playsinline\", \"\");\r\n      this.player.setAttribute(\"x5-playsinline\", \"\");\r\n    }\r\n    if (this.props.autoPlay) {\r\n      this.api.getApi().play();\r\n    }\r\n    this.forceUpdate();\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n  }\r\n  componentWillUnmount() {\r\n    this.event.destroy();\r\n    this.api.destroy();\r\n    this.player = null;\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playerType = null;\r\n  }\r\n\r\n  initPlayer = () => {\r\n    if (!this.props.file) {\r\n      return null;\r\n    }\r\n    const type = getVideoType(this.props.file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, this.props);\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, this.props.file);\r\n    } else {\r\n      this.player.src = this.props.file;\r\n    }\r\n  };\r\n\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <VideoMessage />\r\n        {!this.props.isLive && <TimeLine />}\r\n        <ErrorEvent flvPlayer={this.flv} hlsPlayer={this.hls} />\r\n        <DragEvent />\r\n        {this.props.isLive && <LiveHeart key={this.props.file} />}\r\n      </>\r\n    );\r\n  };\r\n  getPlayUrl = () => {\r\n    return this.props.file;\r\n  };\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event\r\n      ? {\r\n          on: this.event.on.bind(this.event),\r\n          off: this.event.off.bind(this.event),\r\n          emit: this.event.emit.bind(this.event)\r\n        }\r\n      : {};\r\n    return Object.assign({}, api, event, { getPlayUrl: this.getPlayUrl });\r\n  };\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerType: this.playerType,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer\r\n    };\r\n  };\r\n  render() {\r\n    const { autoPlay, poster } = this.props;\r\n    const providerValue = this.getProvider();\r\n    return (\r\n      <div className=\"lm-player-container\" ref={this.playContainerRef}>\r\n        <div className=\"player-mask-layout\">\r\n          <video autoPlay={autoPlay} muted poster={poster} key={this.videoKey} controls={false} />\r\n        </div>\r\n        <Provider value={providerValue}>{this.renderVideoTools()}</Provider>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LMPlayer;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from '../iconfont'\r\nimport Slider from '../slider'\r\nimport { dateFormat } from '../util'\r\nimport \"../style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 1,\r\n      currentTime: 0,\r\n      buffered: 0\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered)\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered)\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    }\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered\r\n    }\r\n    this.setState(state);\r\n  };\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n  changePlayTime = percent => {\r\n    const { seekTo, historyList } = this.props;\r\n    const currentTime = percent * historyList.duration;\r\n    const playIndex = historyList.fragments.findIndex(v => v.end > currentTime)\r\n    const fragment = historyList.fragments[playIndex]\r\n    if (fragment.file) {\r\n      seekTo(currentTime)\r\n      this.setState({ currentTime });\r\n    }\r\n\r\n  };\r\n  seekendPlay = () => {\r\n    const { video, api } = this.props;\r\n    if (video.paused) {\r\n      api.play();\r\n    }\r\n  };\r\n  renderTimeLineTips = (percent) => {\r\n    const { historyList } = this.props\r\n    const currentTime = percent * historyList.duration * 1000\r\n    const date = dateFormat(new Date(historyList.beginDate).getTime() + currentTime)\r\n    return <span>{date}</span>\r\n  }\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward()\r\n  }\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind()\r\n  }\r\n  computedLineList = (historyList) => {\r\n    const duration = historyList.duration\r\n    return historyList.fragments.map(v => {\r\n      return {\r\n        disabled: !v.file,\r\n        size: (v.end - v.begin) / duration * 100\r\n      }\r\n    })\r\n\r\n  }\r\n  render() {\r\n    const { historyList, playIndex } = this.props\r\n    const { currentTime, buffered } = this.state;\r\n    const lineList = this.computedLineList(historyList)\r\n    const currentLine = lineList.filter((v, i) => i < playIndex).map(v => v.size)\r\n    const currentIndexTime = currentLine.length === 0 ? 0 : currentLine.length > 1 ? currentLine.reduce((p, c) => p + c) : currentLine[0]\r\n    const playPercent = Math.round((currentTime / historyList.duration) * 100 + currentIndexTime);\r\n    const bufferedPercent = Math.round((buffered / historyList.duration) * 100 + currentIndexTime);\r\n    return (\r\n      <div className=\"video-time-line-layout\">\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider\r\n          className=\"time-line-box\"\r\n          currentPercent={playPercent}\r\n          availablePercent={bufferedPercent}\r\n          onChange={this.changePlayTime}\r\n          renderTimeLineTips={this.renderTimeLineTips}>\r\n          <>\r\n            {lineList.map((v, i) => {\r\n              const currentSizeLine = lineList.filter((v, i2) => i2 < i).map(v => v.size)\r\n              const currentIndexSize = currentSizeLine.length === 0 ? 0 : currentSizeLine.length > 1 ? currentSizeLine.reduce((p, c) => p + c) : currentSizeLine[0]\r\n              return <div className={`history-time-line-item ${v.disabled ? 'history-time-line-disabled' : ''}`} key={i} style={{ width: `${v.size}%`, left: `${currentIndexSize}%` }}></div>\r\n            })}\r\n          </>\r\n        </Slider>\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\n\r\n@videoDec\r\nclass PlayEnd extends React.Component {\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  endedHandle = () => {\r\n    let index = this.props.playIndex\r\n    this.props.changePlayIndex(index + 1)\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default PlayEnd;\r\n","\r\nimport Player from '../player'\r\nimport ContrallerBar from \"../contraller_bar\";\r\nimport VideoMessage from \"../message\";\r\nimport HistoryTimeLine from \"./time_line_history\";\r\nimport ErrorEvent from \"../event/errorEvent\";\r\nimport DragEvent from '../event/dragEvent'\r\nimport Api from \"../api\";\r\nimport VideoEvent from \"../event\";\r\nimport PlayEnd from './play_end'\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"../util\";\r\n\r\nclass HistoryPlayer extends Player {\r\n  constructor(props) {\r\n    super(props)\r\n    this.playIndex = 0\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current)\r\n    this.player = this.playContainer.querySelector('video')\r\n    this.checkFirstFile()\r\n    this.initPlayer(this.playIndex, true);\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    if (this.props.playsinline) {\r\n      this.player.setAttribute(\"playsinline\", \"\");\r\n      this.player.setAttribute(\"webkit-playsinline\", \"\");\r\n      this.player.setAttribute(\"x5-playsinline\", \"\");\r\n    }\r\n    if (this.props.autoPlay) {\r\n      this.api.getApi().play();\r\n    }\r\n    this.forceUpdate();\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n  }\r\n\r\n  /**\r\n   * 历史视频专用\r\n   * 计算视频播放时默认的index，默认去第一个有播放地址的，若有传defaultTime那计算index,当前index没有值，则取默认有file的第一个\r\n   */\r\n  checkFirstFile = () => {\r\n    const { defaultTime, historyList } = this.props\r\n    if (!historyList) {\r\n      return\r\n    }\r\n    if (!defaultTime) {\r\n      this.playIndex = historyList.fragments.findIndex(v => !!v.file)\r\n    } else {\r\n      this.playIndex = this.computedIndexFormTime(defaultTime)\r\n      if (this.playIndex === -1 || !historyList.fragments[this.playIndex].file) {\r\n        this.playIndex = historyList.fragments.findIndex(v => !!v.file)\r\n      }\r\n    }\r\n  }\r\n  initPlayer = (index, isFrist) => {\r\n    const { historyList } = this.props\r\n    if (!historyList || !historyList.fragments[index] || !historyList.fragments[index].file) {\r\n      return null;\r\n    }\r\n    if(this.flv){\r\n      this.flv.unload()\r\n      this.flv.destroy()\r\n      this.flv = null\r\n    }\r\n    if(this.hls){\r\n      this.hls.stopLoad()\r\n      this.hls.destroy()\r\n      this.hls = null\r\n    }\r\n    const type = getVideoType(historyList.fragments[index].file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, { file: historyList.fragments[index].file });\r\n      this.api && this.api.updateChunk({ flv: this.flv })\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, historyList.fragments[index].file);\r\n      this.api && this.api.updateChunk({ hls: this.hls })\r\n    } else {\r\n      this.player.src = historyList.fragments[index].file;\r\n    }\r\n    if (!isFrist) {\r\n      this.playIndex = index;\r\n      this.forceUpdate()\r\n    }\r\n\r\n  };\r\n  /**\r\n   * 历史视频专用\r\n   * 修改历史视频播放的索引。\r\n   */\r\n  changePlayIndex = (index) => {\r\n    const { historyList } = this.props\r\n    if (!historyList || !historyList.fragments[index]) {\r\n      return\r\n    }\r\n    if (!historyList.fragments[index].file) {\r\n      this.changePlayIndex(index + 1)\r\n    } else {\r\n      this.initPlayer(index)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 覆盖Player中暴漏的api，重写seek相关的方法\r\n   */\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event ? {\r\n      on: this.event.on.bind(this.event),\r\n      off: this.event.off.bind(this.event),\r\n      emit: this.event.emit.bind(this.event)\r\n    } : {}\r\n\r\n    const historyApi = {\r\n      seekTo: this.seekTo\r\n    }\r\n    return Object.assign({}, api, event, historyApi)\r\n  }\r\n\r\n  /**\r\n   * 根据时间计算当前对应的播放索引\r\n   */\r\n  computedIndexFormTime = (time) => {\r\n    const { historyList } = this.props\r\n    return historyList.fragments.findIndex(v => v.end > time)\r\n  }\r\n\r\n  /**\r\n   * 重写api下的seekTo方法\r\n   */\r\n  seekTo = (currentTime) => {\r\n    const playIndex = this.computedIndexFormTime(currentTime)\r\n    const fragment = historyList.fragments[playIndex]\r\n    const seekTime = currentTime - fragment.begin - 1\r\n    if (!this.player.paused) {\r\n      this.api.pause();\r\n    }\r\n    this.changePlayIndex(playIndex)\r\n    this.api.seekTo(seekTime);\r\n  }\r\n  /**\r\n   * 覆盖Player中的context的value，新增一些历史视频专用的方法\r\n   */\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerType: this.playerType,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer,\r\n      changePlayIndex: this.changePlayIndex,\r\n      playIndex: this.playIndex,\r\n      historyList: this.props.historyList,\r\n      seekTo: this.seekTo\r\n    }\r\n  }\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <VideoMessage />\r\n        <HistoryTimeLine />\r\n        <ErrorEvent />\r\n        <DragEvent />\r\n        <PlayEnd />\r\n      </>\r\n    );\r\n  };\r\n}\r\n\r\nexport default HistoryPlayer","import Player from './player'\r\nimport HistoryPlayer from './history'\r\n\r\nPlayer.HistoryPlayer = HistoryPlayer\r\n\r\nexport default Player \r\n"],"sourceRoot":""}